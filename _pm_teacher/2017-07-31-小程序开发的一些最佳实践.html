---
title: 小程序开发的一些最佳实践
author: 果果
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1502116843&src=3&ver=1&signature=fMd4ZeYncDjRuvdiU8EiArQOPV7eSYaQ46-dszwFXWJaGpyCiEWlmnGxFPp2fvsMzZGE8HfeiBJZcR6Jz742V-dDuVTeBdWfjtqANssenQioNRZfm5uHSf7veYZ72DRFRGxQQ5dUxr5RYaYSEiKVcfy5E6tJIbSyp6xUnURDQHI=
date: '2017-07-31 00:00:00 +0000'

---

{% raw  %}
<p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">哎呀，一不小心标题起的有点儿大。谈不上最佳实践，不过也是果果做小程序这些天的一点积累，技术上居多，还有点儿产品上的东西和大家一起讨论。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">1、工具</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">微信是提供了开发工具的，就是这个，集合了编辑、调试、编译、发布等功能，一个正儿八经的IDE该有的东西，它都有。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;"></span></p><p style="text-align: center;"><img src="http://mmbiz.qpic.cn/mmbiz_png/yGjJ59QM4Scr7CKwE6BrSrsQBjUXMh7HWicQmxJAOibialYvic3RpjgrohI8vpPdtiavAsaVbqEeD9aGC5NynRwv3Qg/0?wx_fmt=png" style="width: 770px !important; height: 624.324px !important;"></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">但是拆开来看，很多体验并不是最优的。尤其是编辑代码的时候，api提示不全，很多快捷键没有，不支持第三方插件，用起来，不说很痛苦，起码没那么爽。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">所以，我准备用其他IDE代替微信官方开发者工具的编辑器。作为一名半吊子前端选手，最熟悉的莫过于WebStorm了，没毛病，就它了。当然，编译、调试、发布还得用官方的，因为它和微信后台无缝衔接，不用不行。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">那么相当于我们有两个IDE，一个用来写代码，一个用来调代码和上传代码，有两个问题，一是麻烦，二是不兼容。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">2、脚本</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">我们之前讲过，小程序定义了它自己的一套文件格式，js、wxml和wxss，所以官方开发者工具只认识这些亲儿子们。但是WebStrom作为老牌的IDE，并不知道什么wxml和wxss，这就是兼容行问题。解法很简单，用一个转换器，把xml和xss转换成wxml和wxss。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">这个转换器，就是一个脚本，它只干一件事——文件重命名。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">于是整个过程变成了，在WebStorm里编辑代码，然后敲一行命令做转换，最后到官方工具里编译看效果。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;"></span></p><p><img src="http://mmbiz.qpic.cn/mmbiz_png/yGjJ59QM4Scr7CKwE6BrSrsQBjUXMh7HojT9BKw4PIUYNcrQKPp3fGVkMy7qR0gaJqUSoCRFB4ib7ibG5bRt9aPg/0?wx_fmt=png" style="width: 770px !important; height: 406.792px !important;"></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">程序员觉得好麻烦啊，写个脚本吧。这个脚本可以自动监听代码文件的改变，自动转换文件格式，自动发起代码编译，效果就是，这边刚写完代码，那边界面上就有了变化，牛逼就是这么简单。</span><br><span style="font-size: 16px;"></span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">3、流程</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">一般开发的时候，都要区分开发环境、灰度/体验环境和线上环境的，小程序也不例外。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">开发环境一般直接连接到本地服务器，所有资源都是本地的，支持随时修改随时看到结果。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">每个小程序都可以绑定10个到40个不等的体验者（取决于是否经过认证），你可以把自己的代码打包上传为体验包，发送给体验者，他们会连接到体验服务器，与正式服务器隔离。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">体验完毕之后，一般会有产品经理跳出来增加需求，这时候就要准备各种理由推掉，千万不能让步，否则迎接你的将是凌晨4点钟的太阳（顺便透漏一下，果果做的小程序，产品和开发是5:1，作为开发表示目前情绪稳定，请祖国人民放心）。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">最后是提交微信审核，趁他们审核的时候，你有两到三天的时间——做新需求。（别傻了孩子，你还想抽点时间打排位？倒是产品同学一个一个都上了王者）</span></p><p style="margin-top: 15px; line-height: 1.75em; text-align: center;"><span style="font-size: 16px;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/yGjJ59QM4Scr7CKwE6BrSrsQBjUXMh7HkB1GN13GCWu6Acq4tI8VUPWkeq9k1ZCSab5Mc0EIlp0pgq7ofRnL5Q/0?wx_fmt=jpeg" style="width: 560px !important; height: 560px !important;"></span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">4、可以和不可以</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">很多人问我，你们那个分享界面，直接发到朋友圈多好啊，那里才是大流量啊。——对不起，没有。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">产品同学问我，咱能不能时不时给用户推个push，搞个拉新拉活啊？——对不起，也没有。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">这没有那没有，有什么可以有的啊？</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">恩，留存方面，小程序可以发送到桌面，可以置顶到会话，如果用户主动一点儿的话。分享方面，小程序可以直接分享到会话，会话内容会截取页面80%的区域做展示。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">哦，如果说小程序有什么超能力的话，就是可以拿到群信息，非常imba。现在有很多微信群协作工具，群排名，群PK，后面会有更多的群插件冒出来。</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">5、最难的事情，运营</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;"><img src="http://mmbiz.qpic.cn/mmbiz_png/yGjJ59QM4Scr7CKwE6BrSrsQBjUXMh7HCU3Aa1fkgXSWibibXpO0v54tmsYUoKMQbp3e19VX55rj6kk8M88GNCLA/0?wx_fmt=png" style="white-space: normal; width: 709px !important; height: 577px !important;"></span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">怎么说呢，虽然背后就是微信这个超级大腿，但小程序的整体量级并没有起来，或者说并没有达到人们预期的那种程度。在这种情况下搞运营推广，就多了一个教育成本。比如我把识花君分享给我二姨，还要花半天时间教她怎么用。下次要用，还来问我，还找不到入口在哪。我相信普通用户也有这样的问题。</span><br><span style="font-size: 16px;"></span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">关键是，我一理科班出身的程序员，人畜无害，也要做一些运营推广的工作，实在是难为人。最近王者荣耀火，到处都在蹭IP，我也弄了个送皮肤的活动，但是这样拉来的新增，能留下多少呢？</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">不知道诸位有没有好的运营套路呢？能帮上忙的，我答应你们，一个月不黑产品经理，好么～</span></p><p style="margin-top: 15px; line-height: 1.75em;"><span style="font-size: 16px;">链接放这了，没事儿帮忙找找bug也成</span></p><p style="text-align: center;"><mp-miniprogram class="miniprogram_element" data-miniprogram-appid="wxbeb90f1d6c17059b" data-miniprogram-path="pages/main/main?scene=%406" data-miniprogram-nickname="识花君" data-miniprogram-avatar="http://mmbiz.qpic.cn/mmbiz_png/Ee5nAiakQibpf2nhpew2u97owQciaUZcR2fdSxvtsiaUSrcGLbAUM8JInhxHChwaLT9rMNICthhDMOCWFMYm7vW6FQ/0?wx_fmt=png" data-miniprogram-title="识花君" data-miniprogram-imageurl="http://mmbiz.qpic.cn/mmbiz_png/yGjJ59QM4Scr7CKwE6BrSrsQBjUXMh7HgMSIF7cCsh8XcR0kpBeIputRx6UQB7PG3LIRjtZdSJmQNibpmXrFfyg/0?wx_fmt=png"></mp-miniprogram></p><p><br></p><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1502116843&src=3&ver=1&signature=fMd4ZeYncDjRuvdiU8EiArQOPV7eSYaQ46-dszwFXWJaGpyCiEWlmnGxFPp2fvsMzZGE8HfeiBJZcR6Jz742V-dDuVTeBdWfjtqANssenQioNRZfm5uHSf7veYZ72DRFRGxQQ5dUxr5RYaYSEiKVcfy5E6tJIbSyp6xUnURDQHI=">微信地址</a>
{% endraw  %}

