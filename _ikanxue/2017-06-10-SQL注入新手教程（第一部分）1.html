---
title: SQL注入新手教程（第一部分）1
author: hesir
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1497276357&src=3&ver=1&signature=aHg31JU*BGTH2xoiR2ftYl-Za4Tj4F9-ES3676R*Lz9d4Q2l*LGr82CxAl3XSPMV3mvK5fPXVrwmme1QdzvmJW4syqWqqHxEgEDjdQyR5YuoXOBlACJPRaZsou29FR5r5TPgyEukGdUtdUe7I2Ozc9GKES*i-KRbFlDkvfpNGKw=
date: '2017-06-10 00:00:00 +0000'

---

{% raw  %}
<section label="小黄人科技" style="margin: 5px 0px 0px; padding: 10px; border-width: 2.1px; border-style: dashed; border-color: rgb(182, 182, 182); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; font-size: 16px; line-height: 25px; color: rgb(51, 51, 51); background-color: rgb(244, 244, 244);"><span style="font-size: 15px;">SQL 注入是一种攻击者通过网页将 SQL 命令注入到 SQL 语句中的技术。攻击者可以绕过认证，访问、修改和删除数据库中的数据。在某些情况下，SQL 注入甚至可被用于执行操作系统级的命令，攻击者可能对防火墙后的网络带来破坏性更大的攻击。</span></section><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"></span><br></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><span style="font-size: 18px;"><strong>常用数据库</strong></span></p></section></section></section></section><ul class="list-paddingleft-2"><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">MySQL（开源）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">MSSQL</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">S-ACCESS</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Oracle</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Postgre（开源）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">SQLite</span></p></li></ul><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"><strong><br></strong></span></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><span style="font-size: 18px;"><strong>SQL注入类型</strong></span></p></section></section></section></section><ul class="list-paddingleft-2"><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">In Band（带内注入）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Out of Band（带外注入）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Blind SQLI（盲注）</span></p></li></ul><p style="margin-top: 15px; margin-bottom: 15px; line-height: normal;"><span style="font-size: 15px;"><strong><br></strong></span></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><span style="font-size: 15px;"><strong><span style="font-size: 18px;">SQL注入开发技术</span></strong></span></p></section></section></section></section><ul class="list-paddingleft-2"><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Error Based Exploitation（基于错误返回的注入）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Union Based Exploitation（基于联合查询的注入）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Boolen Based Exploitation（布尔型注入）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Time Based Exploitation（基于时间延迟注入）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Out of Band Exploitation（带外注入）</span></p></li></ul><p style="margin-top: 15px; margin-bottom: 15px; line-height: normal;"><span style="font-size: 15px;"><br></span></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><strong><span style="font-size: 18px;">常见注入点——应用程序和数据交互的地方</span></strong></p></section></section></section></section><ul class="list-paddingleft-2"><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Authentication（认证页面）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Search Fields （搜索页面）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Post Fields &nbsp; &nbsp; （Post请求）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Get Fields &nbsp; &nbsp; &nbsp;（Get请求）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">HTTP Header（HTTP头部）</span></p></li><li><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Cookie</span></p></li></ul><p style="margin-top: 15px; margin-bottom: 15px; line-height: normal;"><span style="font-size: 15px;"><strong><br></strong></span></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><span style="font-size: 18px;"><strong>常用SQL语句</strong></span></p></section></section></section></section><table><tbody><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">SELECT</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">基于搜索条件从数据库中读取数据</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">INSERT</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">将新数据插入数据库</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">UPDATE</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">基于给定条件更新已有数据</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">DELETE</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">基于给定条件删除已有数据</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Order By</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">对结果集按照升序或降序排列</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Limit By</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">从一个或多个表中检索记录</span></p></td></tr></tbody></table><p style="margin-top: 15px; margin-bottom: 15px; line-height: normal;"><span style="font-size: 15px;"><strong><br></strong></span></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><span style="font-size: 18px;"><strong>常用SQL注入字符</strong></span></p></section></section></section></section><table><tbody><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">1</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">字符串运算符</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">'or'</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">2</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">多行注释</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">/*...*/</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">3</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">加号，连接（在URL中等同于空格）</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">+</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">4</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">单行注释</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">#或--</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">5</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">双管道（连接）</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">||</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">6</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">通配符</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">%</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">7</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">局部变量</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">@</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">8</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">全局变量</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">@@</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">9</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">时延</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">waitfor delay '00:00:10'</span></p></td></tr><tr><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">10</span></p></td><td><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">字符串替代数字或数字替代字符串</span></p></td><td><br></td></tr></tbody></table><p style="margin-top: 15px; margin-bottom: 15px; line-height: normal;"><span style="font-size: 15px;"><strong><br></strong></span></p><section label="Copyright © 2015 playhudong All Rights Reserved." style="border-width: medium; border-color: currentcolor; -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none; margin: 1em auto; text-align: center;"><section style="text-align: left; overflow: hidden;"><section class="" style="background-color: rgb(0, 0, 0); font-size: 1.125em; vertical-align: middle; line-height: 1.8em; text-align: center; padding: 0px 0.5em 500px; color: rgb(255, 255, 255); width: 16%; min-width: 1em; box-sizing: border-box; margin-bottom: -500px; display: inline-block;"><p class="" style="margin: 0px;"><br></p></section><section style="vertical-align: top; padding-bottom: 500px; margin-bottom: -500px; width: 84%; box-sizing: border-box; background-color: rgb(222, 222, 222); display: inline-block;"><section style="width: 6%; min-width: 1em; text-align: left; vertical-align: middle; display: inline-block;"><section class="" style="border-width: 0.5em 0px 0.5em 0.5em; border-style: solid; border-color: transparent transparent transparent rgb(0, 0, 0); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; vertical-align: middle; display: inline-block;"></section></section><section style="text-align: left; line-height: 1.5; font-size: 1.125em; padding: 0px 0.8em 0px 0.5em; vertical-align: middle; box-sizing: border-box; width: 94%; display: inline-block;"><p style="margin: 0px; padding-top: 4px;"><span style="font-size: 18px;"><strong>数据库指纹</strong></span></p></section></section></section></section><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">我们可以通过分析错误信息找出数据库类型。</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"></span></p><p><img src="http://mmbiz.qpic.cn/mmbiz_png/1UG7KPNHN8GtlpXia4n2BRTj8ja8OtHfaZbcEasQzpHMMNqWibkl7DQXl4xibCROA5TcjctJCqJviaQ1rPqaTibCuCA/0?wx_fmt=png" style="width: 561px !important; height: 175px !important;"></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">首先从</span><span style="color: rgb(75, 172, 198); font-size: 15px;">这里</span><span style="font-size: 15px;">下载SQL注入测试平台，并且利用xampp搭建开放SQL注入实验平台。（<span style="font-size: 16px;">译者注：可参考</span>这篇博客）</span><br><span style="font-size: 15px;"></span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><img src="http://mmbiz.qpic.cn/mmbiz_png/1UG7KPNHN8EQty9dlGFS4JkAqjOQeqQRrhn7nqXRyMEoLKG4XfZtiaQPQp5z0jicP4XQ96Mf21j6M52dQZA7uobA/0?wx_fmt=png" style="width: 770px !important; height: 341.288px !important;"><span style="font-size: 15px; color: rgb(0, 0, 0);">点击 Setup/reset Database for labs</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="color: rgb(0, 0, 0); font-size: 15px;"><img src="http://mmbiz.qpic.cn/mmbiz_png/1UG7KPNHN8EQty9dlGFS4JkAqjOQeqQRtTz0sLeAlxVtO9N1VdELtJDaeg5aZ6j111MMHEVjEp4AgJQXKf4Zfg/0?wx_fmt=png" style="width: 770px !important; height: 670.752px !important;"><br></span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><img src="http://mmbiz.qpic.cn/mmbiz_png/1UG7KPNHN8EQty9dlGFS4JkAqjOQeqQR76xdR7VjiaOa6hyacJay8ibTH6lMTrfjFk5l1wGU0HIPPFRdfN1R87LA/0?wx_fmt=png" style="width: 770px !important; height: 695.51px !important;"><br></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px; color: rgb(0, 0, 0);"></span></p><p style="border-width: medium; border-color: currentcolor; border-style: none; margin: 5px 0px 0px; padding: 10px 0px; background: none 0% 0% repeat scroll transparent;"><br></p><p><img src="http://mmbiz.qpic.cn/mmbiz_gif/1UG7KPNHN8EQty9dlGFS4JkAqjOQeqQR1yeMpGTkvdu39Fia6XVwViaCpCxEU6BOsdTnrRK8wkCLGyyN1RBcJvUg/0?wx_fmt=gif" style="margin: 0px auto; display: block; width: 22px !important; height: 10px !important;"></p><p style="margin-bottom: 15px; line-height: 1.75em; margin-top: 5px;"><span style="font-size: 15px; color: rgb(0, 0, 0);">在进入 Dhakkan 实验平台之前，我们先了解一些<strong>基础知识</strong>。（数据库后端如何执行查询操作？查询是如何形成的？我们如何打破它？到底什么是SQL注入？）</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">想象一个需要输入用户名和密码的登录页面，当你输入用户名和密码后，后端就会产生并执行一条查询（SQL查询），登录后该查询结果会被显示在我们的主页。</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">例如：</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Username - Raj</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">Password - Chandel</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">那么后端查询看起来是这样的：</span></p><p style="line-height: normal;"><span style="font-size: 14px;"></span></p><section label="小黄人科技" style="margin: 5px 0px 0px; border-width: medium medium medium 10px; border-color: currentcolor currentcolor currentcolor rgb(233, 233, 233); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none none none solid; padding: 10px; font-size: 16px; line-height: 25px; color: rgb(153, 153, 153); background-color: rgb(243, 243, 243); box-shadow: 1px 1px 2px rgb(153, 153, 153);"><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username='Raj' AND password='Chandel';</span></section><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 14px;"></span><span style="font-size: 15px;">这完全取决于开发者是如何将参数值封装在SQL查询中的，可以是单引号、双引号和引号与括号结合使用等。所以查询可能看起来会是这样的：</span></p><p style="line-height: normal;"><span style="font-size: 14px;"></span></p><section label="小黄人科技" style="margin: 5px 0px 0px; border-width: medium medium medium 10px; border-color: currentcolor currentcolor currentcolor rgb(233, 233, 233); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none none none solid; padding: 10px; font-size: 16px; line-height: 25px; color: rgb(153, 153, 153); background-color: rgb(243, 243, 243); box-shadow: 1px 1px 2px rgb(153, 153, 153);"><p style="line-height: normal;"><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username='Raj' AND password='Chandel';</span></p><p><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username=('Raj') AND password=('Chandel');</span></p><p><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username="Raj" AND password="Chandel";</span></p><p><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username=("Raj") AND password=("Chandel");</span></p></section><p style="line-height: normal;"><span style="font-size: 14px;"></span><br></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">或者是开发者选择的任何形式。这里以第一种查询为例进一步解释。</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="color: rgb(255, 0, 0); font-size: 24px;"><strong>Q</strong></span><strong> </strong><span style="font-size: 15px;">：如果输入的用户名为 Raj' 会发生什么？</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><strong><span style="font-size: 24px; color: rgb(255, 0, 0);">A</span><span style="font-size: 15px;"></span></strong><span style="font-size: 15px;">：如果输入的用户名为 Raj' ，后台查询看起来会是这样的</span></p><p style="line-height: normal;"><span style="font-size: 14px;"></span></p><section label="小黄人科技" style="margin: 5px 0px 0px; border-width: medium medium medium 10px; border-color: currentcolor currentcolor currentcolor rgb(233, 233, 233); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none none none solid; padding: 10px; font-size: 16px; line-height: 25px; color: rgb(153, 153, 153); background-color: rgb(243, 243, 243); box-shadow: 1px 1px 2px rgb(153, 153, 153);"><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username='Raj'' AND password='Chandel';</span></section><p style="line-height: normal;"><span style="font-size: 14px;"></span><br></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">由于多了一个引号，所以此处有语法错误。</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"><span style="color: rgb(255, 0, 0); font-size: 24px;"><strong>Q</strong></span>：怎样修复这条查询？可以修复吗？</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"><strong><span style="font-size: 24px; color: rgb(255, 0, 0);">A</span></strong>：上面的查询可以修复，即使输入的用户名仍为 Raj' 也可以修复。可以通过将 Raj' 后面的查询全部注释掉来修复。所以有效的查询会是这样的</span></p><p style="line-height: normal;"><span style="font-size: 14px;"></span></p><section label="小黄人科技" style="margin: 5px 0px 0px; border-width: medium medium medium 10px; border-color: currentcolor currentcolor currentcolor rgb(233, 233, 233); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none none none solid; padding: 10px; font-size: 16px; line-height: 25px; color: rgb(153, 153, 153); background-color: rgb(243, 243, 243); box-shadow: 1px 1px 2px rgb(153, 153, 153);"><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM table_name WHERE username='Raj'</span><br></section><p style="line-height: normal;"><span style="font-size: 14px;"></span><br></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">这条查询语法正确</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"><span style="font-size: 15px;"><span style="color: rgb(255, 0, 0); font-size: 24px;"><strong>Q</strong></span></span>：如何将剩余的查询注释掉？</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"><strong><span style="font-size: 24px; color: rgb(255, 0, 0);">A</span></strong>：这取决于后端的数据库类型。一般情况下使用 -+ 或者 # 。如果输入用户名 Raj'-+ ，完整的后端查询看起来是这样的</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"></span></p><section label="小黄人科技" style="margin: 5px 0px 0px; border-width: medium medium medium 10px; border-color: currentcolor currentcolor currentcolor rgb(233, 233, 233); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none none none solid; padding: 10px; font-size: 16px; line-height: 25px; color: rgb(153, 153, 153); background-color: rgb(243, 243, 243); box-shadow: 1px 1px 2px rgb(153, 153, 153);"><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM &nbsp;table_name WHERE username='Raj'-+' AND password='Chandel';</span><br></section><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"></span><span style="font-size: 15px;">但是数据库只会读取并执行这条查询</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"></span></p><section label="小黄人科技" style="margin: 5px 0px 0px; border-width: medium medium medium 10px; border-color: currentcolor currentcolor currentcolor rgb(233, 233, 233); -moz-border-top-colors: none; -moz-border-right-colors: none; -moz-border-bottom-colors: none; -moz-border-left-colors: none; border-style: none none none solid; padding: 10px; font-size: 16px; line-height: 25px; color: rgb(153, 153, 153); background-color: rgb(243, 243, 243); box-shadow: 1px 1px 2px rgb(153, 153, 153);"><span style="font-size: 14px; color: rgb(136, 136, 136);">SELECT * FROM &nbsp;table_name WHERE username='Raj'</span></section><p style="margin-bottom: 15px; line-height: 1.75em; margin-top: 20px;"><span style="font-size: 15px;"></span><span style="font-size: 15px;">-+ 后面的所有东西都被注释掉了，不会翻译为这条查询的一部分。这就是SQL注入。使用恶意的输入改变后端查询。</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">我不知道你是否对此怀有疑问，反正我当时学习的时候，有这样一个疑问：</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><strong><span style="font-size: 15px;">根据上面的带有注释的查询，我们不需要一个有效的密码就可以登录了吗？</span></strong></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">是的，如果开发者没有采取防范SQL注入的措施，并且以上面方式实现查询，那么只有用户名就可能成功登录。</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;">感到很疑惑？别急。接下来的文章我会向你展示具体过程。</span></p><p style="line-height: normal; margin-top: 15px; margin-bottom: 15px; text-align: center;"><span style="font-size: 14px; color: rgb(136, 136, 136);">本文由 看雪翻译小组 hesir 编译，来源 Hacking Articles</span><span style="font-size: 14px; color: rgb(136, 136, 136);">@Raj Chandel</span></p><p style="line-height: normal; margin-top: 15px; margin-bottom: 15px; text-align: center;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><br></span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em; text-align: center;"><span style="font-size: 15px; color: rgb(255, 104, 39);">明日续更~</span></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em; text-align: center;"><span style="font-size: 15px; color: rgb(255, 104, 39);">如果你喜欢的话，不要忘记点个赞哦！</span><br></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><br></p><p style="margin-top: 15px; margin-bottom: 15px; line-height: 1.75em;"><span style="font-size: 15px;"></span></p><p style="margin-top: 15px; margin-bottom: 15px; max-width: 100%; min-height: 1em; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(79, 138, 187); box-sizing: border-box !important; overflow-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;">热门阅读文章：<br></strong></span></p><hr style="max-width: 100%; line-height: 25.6px; box-sizing: border-box !important; overflow-wrap: break-word !important;"><p style="max-width: 100%; min-height: 1em; line-height: 25.6px; box-sizing: border-box !important; overflow-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;"></p><ul class="list-paddingleft-2" style="list-style-type: circle;"><li><p style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; min-height: 1em; line-height: normal; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283127&amp;idx=1&amp;sn=a456b8495b438499ab68d1a2c32e543c&amp;chksm=b1815cfd86f6d5eb01205cf7c3052d428b2e9105d34523a276bdfb774c7adbbcbd197210f286&amp;scene=21#wechat_redirect" target="_blank">看雪 CTF 2017 攻击篇 6月强势来袭！</a><br></span></p></li><li><p style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; min-height: 1em; line-height: normal; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 15px;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283184&amp;idx=2&amp;sn=32f3a9e70e3504ed2cd68f1c0a2c8f3d&amp;chksm=b1815c3a86f6d52ca5b25dfb1b6d120712007f74f6d57d062881bcbc3b3b9b0ed31232a1c530&amp;scene=21#wechat_redirect" target="_blank">虚拟机逃逸——QEMU的案例分析（二）</a><br></span></p></li><li><p style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; min-height: 1em; line-height: normal; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283175&amp;idx=2&amp;sn=6e8fb6db8c328707308758a8791029b0&amp;chksm=b1815c2d86f6d53b885885136b9b9c0685c72006ff6fe96150e060a6ba56aa8c63651f0daee5&amp;scene=21#wechat_redirect" target="_blank">虚拟机逃逸——QEMU的案例分析（一）</a><br style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></p></li><li><p style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; min-height: 1em; line-height: normal; box-sizing: border-box !important; overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458282703&amp;idx=3&amp;sn=bfa728ff73cd389cd9258ca32008c6e2&amp;chksm=b1815a4586f6d353468f3adf9545aab3ffdce4f4c3e0e47c967298eca045db0558e37865c3a7&amp;scene=21#wechat_redirect" target="_blank" style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283005&amp;idx=2&amp;sn=2fc411b70549c789085e517ef6dfc3e9&amp;chksm=b1815b7786f6d261975cd000d4ddf2c4cffe3cf2d8ab06d870e7971e862c29c7278996bdfb6c&amp;scene=21#wechat_redirect" target="_blank" style="font-size: 15px; text-decoration: none;"><span style="font-size: 15px;"></span></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283017&amp;idx=3&amp;sn=745024d678707b6dcf0cdc94ff5472a5&amp;chksm=b1815c8386f6d59538bfeeb8d3837007f07b0b4d3cd77b439f7856edd391127b6b2f36fb105d&amp;scene=21#wechat_redirect" target="_blank" style="font-size: 15px; text-decoration: none;"><span style="font-size: 15px;"></span></a><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283290&amp;idx=3&amp;sn=209c746a4a7748d44fead391622be552&amp;chksm=b1815d9086f6d4863c529c675d6f8949f29274dc58513882958a7a3d786850d5209a94e113ff&amp;scene=21#wechat_redirect" target="_blank">用 Frida 入侵Android App III （一）</a></p></li><li><p style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; min-height: 1em; line-height: normal; box-sizing: border-box !important; overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5NTc2MDYxMw==&amp;mid=2458283303&amp;idx=2&amp;sn=7a20cc7f14b0ea237aa81c6e045c5e64&amp;chksm=b1815dad86f6d4bb64d7f631ee85fbfefae13d652b25a8d79e51f47f499e2dbf24aed1865685&amp;scene=21#wechat_redirect" target="_blank">用Frida入侵Android App III （二）</a><br></p></li><li><p style="margin-top: 10px; margin-bottom: 10px; max-width: 100%; min-height: 1em; line-height: normal; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;">......<br style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></p></li></ul><p style="margin-top: 15px; margin-bottom: 15px; max-width: 100%; min-height: 1em; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;">更多优秀文章，长按下方二维码，“<span style="max-width: 100%; color: rgb(0, 122, 170);">关注看雪学院公众号</span>”查看！</span></p><p style="margin-top: 15px; margin-bottom: 15px; max-width: 100%; min-height: 1em; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></p><p style="max-width: 100%; min-height: 1em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/1UG7KPNHN8E4ItLe4LX3YbLUffeV86icpcBApdQiakmEMuy4q8mVAaBjA0P1wez6NzO52zvKNlQQQ4siaztZDYhBg/640?wx_fmt=jpeg" style="box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible !important; width: 640px !important; height: 426px !important;"></p><p style="margin-top: 15px; margin-bottom: 15px; max-width: 100%; min-height: 1em; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span><span style="max-width: 100%; color: rgb(178, 178, 178); box-sizing: border-box !important; overflow-wrap: break-word !important; font-size: 15px;">看雪论坛：http://bbs.pediy.com/</span><span style="max-width: 100%; color: rgb(178, 178, 178); font-size: 14px; box-sizing: border-box !important; overflow-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; overflow-wrap: break-word !important;"></span></p><p style="margin-top: 15px; margin-bottom: 15px; max-width: 100%; min-height: 1em; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(178, 178, 178); font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;">微信公众号 ID：ikanxue</span></p><p style="margin-top: 15px; margin-bottom: 15px; max-width: 100%; min-height: 1em; line-height: 1.75em; box-sizing: border-box !important; overflow-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(178, 178, 178); font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;">微博：看雪安全</span></p><p><span style="max-width: 100%; color: rgb(178, 178, 178); font-size: 15px; box-sizing: border-box !important; overflow-wrap: break-word !important;">投稿、合作：www.kanxue.com</span></p><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1497276357&src=3&ver=1&signature=aHg31JU*BGTH2xoiR2ftYl-Za4Tj4F9-ES3676R*Lz9d4Q2l*LGr82CxAl3XSPMV3mvK5fPXVrwmme1QdzvmJW4syqWqqHxEgEDjdQyR5YuoXOBlACJPRaZsou29FR5r5TPgyEukGdUtdUe7I2Ozc9GKES*i-KRbFlDkvfpNGKw=">微信地址</a> | <a href="http://bbs.pediy.com/thread-218235.htm">阅读原文</a>
{% endraw  %}

