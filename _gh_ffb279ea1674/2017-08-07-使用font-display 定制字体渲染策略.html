---
title: 使用font-display 定制字体渲染策略
author: 文蔺 译
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1502118312&src=3&ver=1&signature=fMd4ZeYncDjRuvdiU8EiAhe7zcuXP2l7Gm80du9XyVBEHblW2TeZyt3R*QqxZOTSl5lTS8OK93kQxLYzciwijayEJRdJvNeeMhAcaH7gClO-IJwfVcCmVk-NW1gWsopakQNlVjIOo7CRjHrZNWzhUQsen9E0W6Q-xxdDQS36hMw=
date: '2017-08-07 00:00:00 +0000'

---

{% raw  %}
<p class="img-wrap" style="margin: 15px auto;margin-top: 0;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.8;white-space: normal;word-break: break-word;hyphens: auto;overflow: hidden;text-align: center;font-size: 16px;max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);"><img src="http://mmbiz.qpic.cn/mmbiz_gif/d8tibSEfhMMrjNKjEmoX7KR4FZKdwlrguCicepySoficvu2OMNxXQT0YbHdMcVtVV4P8ZqsqXBnegtw4VibYxhichMQ/0?wx_fmt=gif" style="border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle; box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: 720px !important; height: 100px !important;"></p><p><img src="http://mmbiz.qpic.cn/mmbiz_gif/d8tibSEfhMMo7hzPxPkXG4RzamALiaHLo5Bibcpv54bDFwfzvXu8QCM4Bjmw6oowfxtcT3bPvRR3iaby2QrRk9mdDg/0?wx_fmt=gif" style="width: 770px !important; height: 577.5px !important;"></p><p style="text-align: center;">（图片来自网络）</p><p class="editor-said" style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; hyphens: auto; max-width: 100%; color: rgb(51, 51, 51) ; ; ; ; ; ;; background-color: rgb(255, 254, 213); font-size: 16px; word-wrap: break-word !important; box-sizing: border-box !important; ">编者按：本文由文蔺在众成翻译平台上翻译。</p><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">进行性能优化时，决定 Web Font 的加载行为是一项技术活。<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">@font-face</span>规则中新增了一个<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>声明，开发者可以根据 Web Font 的加载时间来决定如何渲染或降级处理。</p><h2 style=" margin-top: 22px; margin-bottom: 12px; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(25, 128, 230); border-left-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(25, 128, 230); text-align: center ; ; ; ; ; ;; white-space: normal; ">字体渲染差异</h2><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">有了 Web Font，开发者可以在项目中加入丰富的排版功能。但需要权衡的是，下载字体会耗费一些时间。而下载时间难免会受到网络状况的影响，继而干扰用户体验。说实话，如果连页面展示都费劲，谁还会在乎你用多炫的字体呢。</p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">字体下载可能比较慢，为了减轻风险，大多数浏览器都采用了超时处理。一旦超时，就使用后备字体。理想很美好，现实很无奈，浏览器在实现上各有自己的一套。</p><table width="408"><thead style="border-width: 0px 0px 2px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial; background-color: rgb(247, 247, 247);"><tr style="border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial;"><th style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 5px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Browser</th><th style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Timeout</th><th style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Fallback</th><th style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Swap</th></tr></thead><tbody style="border-width: 0px; border-style: initial; border-color: initial;"><tr style="border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial;"><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 5px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;"><strong style="border-width: 0px; border-style: initial; border-color: initial;">Chrome 35+</strong></td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">3 seconds</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td></tr><tr style="border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial;"><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 5px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;"><strong style="border-width: 0px; border-style: initial; border-color: initial;">Opera</strong></td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">3 seconds</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td></tr><tr style="border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial;"><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 5px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;"><strong style="border-width: 0px; border-style: initial; border-color: initial;">Firefox</strong></td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">3 seconds</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td></tr><tr style="border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial;"><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 5px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;"><strong style="border-width: 0px; border-style: initial; border-color: initial;">Internet Explorer</strong></td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">0 seconds</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">Yes</td></tr><tr style="border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(20, 145, 232); border-left-color: initial;"><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 5px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;"><strong style="border-width: 0px; border-style: initial; border-color: initial;">Safari</strong></td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">No timeout</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">N/A</td><td style="border-width: 0px; border-style: initial; border-color: initial; padding-right: 5px; padding-left: 15px; line-height: 2; font-size: 12px; overflow: hidden; min-width: 50px;">N/A</td></tr></tbody></table><ul style="" class=" list-paddingleft-2"><li><p style="margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto;">Chrome 和 Firefox 超时时间为 3 秒，超时后使用后备字体。若字体最终勉强加载成功，它将替换后备字体，重新渲染文本。</p></li><li><p style="margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto;">IE 浏览器超时时间为 0 秒，也就是说，会立即渲染文本。若所请求的字体尚不可用，则使用后备字体。一旦请求字体可用，将重新渲染文本。</p></li><li><p style="margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto;">Safari 没有超时行为（或者说，至少在基准网络超时之前什么也没干）。</p></li></ul><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">更糟糕的是，这些规则对应用造成的影响，在很大程度上不受开发者控制。关注性能的开发者也许更乐意使用后备字体，使网页内容更快地展现，当更美观的 Web Font 下载完成后再加以使用。使用 Font Loading API 之类的工具，可以覆盖浏览器的某些默认行为，提升性能。但这将引入额外的 JavaScript 代码 —— 要么把代码内联到页面中；要么请求外部文件，而这可能带来额外的 HTTP 延时。</p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">CSS 工作组为此提出了新方案：为<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">@font-face</span>增加新的<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>声明，用于控制字体下载完成之前的渲染行为。</p><h2 style=" margin-top: 22px; margin-bottom: 12px; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(25, 128, 230); border-left-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(25, 128, 230); text-align: center ; ; ; ; ; ;; white-space: normal; ">字体下载时间轴</h2><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">与一些浏览器目前使用的字体超时行为类似，<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>将字体下载过程划分为三个阶段。</p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">1. &nbsp;首先是字体阻塞阶段（font block period）。在此期间，如果字体未完成加载，则尝试使用它的任何元素，必须以不可见的后备字体形式呈现；否则正常使用该字体。</p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">2. &nbsp;紧接着字体阻塞阶段的是字体交换阶段（font swap period）。在此期间，如果字体未完成加载，则尝试使用它的任何元素，必须使用后备字体进行渲染；否则正常使用该字体。</p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">3. &nbsp;紧接着是字体故障阶段（font failure period）。此时若字体未完成加载，则将其标记为下载失败，并使用常规后备字体；否则正常使用该字体。</p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">理解以上三个阶段，根据字体是否下载成功、何时下载完成等情况，就可以可以使用<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>来决定如何渲染字体了。</p><h2 style=" margin-top: 22px; margin-bottom: 12px; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(25, 128, 230); border-left-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(25, 128, 230); text-align: center ; ; ; ; ; ;; white-space: normal; ">使用哪种 font-display 值？</h2><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">要使用<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>，请在<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">@font-face</span>规则中添加代码：</p><blockquote class="code-wrap" style=" border-width: 0px; border-style: initial; border-color: initial; padding-left: 0px; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; white-space: normal; "><pre class="language-" style=" border-width: 0px; border-style: initial; border-color: initial; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); ; ; ; ; ; ; ; ; ; ; ; ; ; ; "><p class="line" style="margin-top: 3px; margin-bottom: 3px; border-width: 0px; border-style: initial; border-color: initial; line-height: 16px; word-break: break-word; word-wrap: break-word; hyphens: auto; font-size: 14px; white-space: nowrap !important;">@font<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">-</span>face&nbsp;<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">{</span></p><p class="line" style="margin-top: 3px; margin-bottom: 3px; border-width: 0px; border-style: initial; border-color: initial; line-height: 16px; word-break: break-word; word-wrap: break-word; hyphens: auto; font-size: 14px; white-space: nowrap !important;">&nbsp;&nbsp;font<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">-</span>family<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">:</span>&nbsp;<span class="token string" style="border-width: 0px; border-style: initial; border-color: initial; color: rgb(166, 226, 46);">'Arvo'</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">;</span></p><p class="line" style="margin-top: 3px; margin-bottom: 3px; border-width: 0px; border-style: initial; border-color: initial; line-height: 16px; word-break: break-word; word-wrap: break-word; hyphens: auto; font-size: 14px; white-space: nowrap !important;">&nbsp;&nbsp;font<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">-</span>display<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">:</span>&nbsp;auto<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">;</span></p><p class="line" style="margin-top: 3px; margin-bottom: 3px; border-width: 0px; border-style: initial; border-color: initial; line-height: 16px; word-break: break-word; word-wrap: break-word; hyphens: auto; font-size: 14px; white-space: nowrap !important;">&nbsp;&nbsp;src<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">:</span>&nbsp;<span class="token function" style="border-width: 0px; border-style: initial; border-color: initial; color: rgb(230, 219, 116);">local</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">(</span><span class="token string" style="border-width: 0px; border-style: initial; border-color: initial; color: rgb(166, 226, 46);">'Arvo'</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">)</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">,</span>&nbsp;<span class="token function" style="border-width: 0px; border-style: initial; border-color: initial; color: rgb(230, 219, 116);">url</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">(</span>https<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">:</span><span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">/</span><span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">/</span>fonts<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">.</span>gstatic<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">.</span>com<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">/</span>s<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">/</span>arvo<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">/</span>v9<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">/</span>rC7kKhY<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">-</span>eUDY<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">-</span>ucISTIf5PesZW2xOQ<span class="token operator" style="border-width: 0px; border-style: initial; border-color: initial;">-</span>xsNqO47m55DA<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">.</span>woff2<span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">)</span>&nbsp;<span class="token function" style="border-width: 0px; border-style: initial; border-color: initial; color: rgb(230, 219, 116);">format</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">(</span><span class="token string" style="border-width: 0px; border-style: initial; border-color: initial; color: rgb(166, 226, 46);">'woff2'</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">)</span><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">;</span></p><p class="line" style="margin-top: 3px; margin-bottom: 3px; border-width: 0px; border-style: initial; border-color: initial; line-height: 16px; word-break: break-word; word-wrap: break-word; hyphens: auto; font-size: 14px; white-space: nowrap !important;"><span class="token punctuation" style="border-width: 0px; border-style: initial; border-color: initial;">}</span></p></pre></blockquote><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">目前，<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>支持<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">auto | block | swap | fallback | optional</span>五种值。</p><h3 style=" margin-top: 12px; margin-bottom: 8px; border-width: 0px; border-style: initial; border-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(51, 51, 51) ; ; ; ; ; ;; white-space: normal; ">auto</h3><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; "><span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">auto</span>使用的字体展示策略与浏览器一致。当前，大多数浏览器使用的默认策略类似<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">block</span>。</p><h3 style=" margin-top: 12px; margin-bottom: 8px; border-width: 0px; border-style: initial; border-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(51, 51, 51) ; ; ; ; ; ;; white-space: normal; ">block</h3><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; "><span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">block</span>给予字体一个较短的阻塞时间（大多数情况下推荐使用 3s）和无限大的交换时间。换言之，如果字体未加载完成，浏览器将首先绘制“隐形”文本；一旦字体加载完成，立即切换字体。为此，浏览器将创建一个匿名字体，其类型与所选字体相似，但所有字形都不含“墨水”。使用特定字体渲染文本之后页面方才可用，只有这种情况下才应该使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">block</span>。</p><h3 style=" margin-top: 12px; margin-bottom: 8px; border-width: 0px; border-style: initial; border-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(51, 51, 51) ; ; ; ; ; ;; white-space: normal; ">swap</h3><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">swap</span>，则阻塞阶段时间为 0，交换阶段时间无限大。也就是说，如果字体没有完成加载，浏览器会立即绘制文字，一旦字体加载成功，立即切换字体。与 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">block</span> 类似，如果使用特定字体渲染文本对页面很重要，且使用其他字体渲染仍将显示正确的信息，才应使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">swap</span>。Logo 文字就很适合使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">swap</span>，因为以合理的后备字体显示公司名称仍将正确传递信息，而且最终会以官方字体的样式展现。</p><h3 style=" margin-top: 12px; margin-bottom: 8px; border-width: 0px; border-style: initial; border-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(51, 51, 51) ; ; ; ; ; ;; white-space: normal; ">fallback</h3><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">fallback</span>时，阻塞阶段时间将非常小（多数情况下推荐小于 100ms），交换阶段也比较短（多数情况下建议使用 3 秒钟）。换言之，如果字体没有加载，则首先会使用后备字体渲染。一旦加载成功，就会切换字体。但如果等待时间过久，则页面将一直使用后备字体。如果希望用户尽快开始阅读，而且不因新字体的载入导致文本样式发生变动而干扰用户体验，<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">fallback</span> 是一个很好的选择。举个例子，正文文本就符合这个条件。</p><h3 style=" margin-top: 12px; margin-bottom: 8px; border-width: 0px; border-style: initial; border-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(51, 51, 51) ; ; ; ; ; ;; white-space: normal; ">optional</h3><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">使用 optional 时，阻塞阶段时间会非常小（多数情况下建议低于 100ms），交换阶段时间为 0。与 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">fallback</span> 类似，如果字体能够为页面效果增色不少，但并非特别重要时，使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">optional</span> 正好。使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">optional</span> 时，将由浏览器来决定是否开始下载字体。可以不下载，也可以给予字体较低的优先级，一切取决于浏览器是否认为对用户最有利。当用户处于弱网络下，这是非常有用的，下载字体可能并非对资源最好的利用。</p><h2 style=" margin-top: 22px; margin-bottom: 12px; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(25, 128, 230); border-left-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(25, 128, 230); text-align: center ; ; ; ; ; ;; white-space: normal; ">浏览器支持</h2><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">启用 Chrome 49 桌面版、Opera 或 Opera for Android的 “Experimental Web Platform Features flag” 后可以使用 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>。（译者注：该文发表于 2016 年。根据译者 2017 年 8 月 4 日访问<span class="link" style="border-width: 0px; border-style: initial; border-color: initial; word-break: break-word; word-wrap: break-word; hyphens: auto;">caniuse</span>获取的信息，Chrome 60 正式引入 <span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>。）</p><h2 style=" margin-top: 22px; margin-bottom: 12px; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-bottom-style: solid; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-bottom-color: rgb(25, 128, 230); border-left-color: initial; font-weight: bold; word-break: break-all; word-wrap: break-word; font-size: 20px; color: rgb(25, 128, 230); text-align: center ; ; ; ; ; ;; white-space: normal; ">Demo</h2><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; ">点击<span class="link" style="border-width: 0px; border-style: initial; border-color: initial; word-break: break-word; word-wrap: break-word; hyphens: auto;">链接</span>可以查看<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span>的效果。对关注性能的开发者来说，<span class="code" style="margin-right: 2px; margin-left: 2px; border-width: 1px; border-style: solid; border-color: rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-radius: 2px; word-break: break-word; word-wrap: break-word; hyphens: auto;">font-display</span> 可是相当有用的工具啊！</p><p style=" margin-top: 8px; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.8; white-space: pre-wrap; word-break: break-word; word-wrap: break-word; hyphens: auto; color: rgb(51, 51, 51) ; ; ; ; ; ;; font-size: 16px; "><span style="color: rgb(61, 170, 214);">（小编注：由于微信限制，这里的demo可以点击下面的阅读原文查看哦！）</span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; line-height: 1.6; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;"><br style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; line-height: 1.6; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;"></span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); text-align: center; background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">奇舞周刊</span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); text-align: center; background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">———<span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; color: rgb(136, 136, 136); line-height: 25.6px; box-sizing: border-box !important; word-wrap: break-word !important;">————————————</span>———</span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); text-align: center; background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">领略前端技术 阅读奇舞周刊</span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); text-align: center; background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><br style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); text-align: center; background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; font-size: 13px; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">长按二维码，关注奇舞周刊</span></p><p style=" margin-top: 1em; margin-bottom: 1em; border-width: 0px; border-style: initial; border-color: initial; line-height: normal; white-space: pre-wrap; word-break: break-word; hyphens: auto ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(32, 32, 32); text-align: center; background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><span style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; font-size: 10px; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="border-width: 0px; border-style: initial; border-color: initial; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">▼</strong></span></p><p class="img-wrap" style=" margin: 15px auto; border-width: 0px; border-style: initial; border-color: initial; line-height: 25.6px; white-space: normal; word-break: break-word; hyphens: auto; overflow: hidden; text-align: center ; ; ; ; ; ;; font-size: 16px; max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); background-color: rgb(255, 255, 255); word-wrap: break-word !important; box-sizing: border-box !important; "><img src="http://mmbiz.qpic.cn/mmbiz/d8tibSEfhMMpC84jhdw7cmZFzrDoG5IsHcpRcls0Ahx6PhRMAicM1gc2ZmG68Tb8t3cyaia5lFicoY8kWXWibCb609A/640?wx_fmt=jpeg" style="border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle; box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: 200px !important; height: 200px !important;"></p><p><br></p><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1502118312&src=3&ver=1&signature=fMd4ZeYncDjRuvdiU8EiAhe7zcuXP2l7Gm80du9XyVBEHblW2TeZyt3R*QqxZOTSl5lTS8OK93kQxLYzciwijayEJRdJvNeeMhAcaH7gClO-IJwfVcCmVk-NW1gWsopakQNlVjIOo7CRjHrZNWzhUQsen9E0W6Q-xxdDQS36hMw=">微信地址</a> | <a href="http://zcfy.cc/article/controlling-font-performance-with-font-display-3763.html?t=new">阅读原文</a>
{% endraw  %}

