---
title: 高阶函数 (组合软件)
author: 网络埋伏纪事 译
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1494425908&src=3&ver=1&signature=T3pUTKCUVTFXYE3cOj0PN*Y2qT4er2ul-ig6wNkGbNy5Rprb90Ast-QlBbLTPxLnQ7xXi3Rzbzog6mwczkxMKDHNghun4Vezc1HwWhCgiyhyLKKEnfk0VIkWtAej5yU*mlNzHWr3zb73dd3QFfc3NA3mCqRKZ9aeXd*R7pU2OTE=
date: '2017-05-07 00:00:00 +0000'

---

{% raw  %}
<p style="margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><strong style="border: 0px;"><span style="max-width: 100%; text-align: justify; white-space: pre-wrap; color: rgb(255, 255, 255); font-size: 16px; background-color: rgb(100, 159, 12); box-sizing: border-box !important; word-wrap: break-word !important;"></span></strong></p><p><img src="/gh_ffb279ea1674/images/1b2ec45ba2468a760227e60dc5d2bb2d6a89fa58.gif" style="width: 770px !important; height: 577.5px !important; visibility: visible !important;"></p><p style="margin-bottom: 10px; border: 0px; line-height: 2; text-align: center; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><strong style="border: 0px;"><span style="max-width: 100%; text-align: justify; white-space: pre-wrap; color: rgb(255, 255, 255); font-size: 16px; background-color: rgb(100, 159, 12); box-sizing: border-box !important; word-wrap: break-word !important;"></span></strong><span style="color: rgb(136, 136, 136); font-size: 14px; text-align: center; white-space: pre-wrap; background-color: rgb(255, 255, 255);">（图片来源：giphy.com）</span></p><p style="margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><strong style="border: 0px;"><span style="max-width: 100%; text-align: justify; white-space: pre-wrap; color: rgb(255, 255, 255); font-size: 16px; background-color: rgb(100, 159, 12); box-sizing: border-box !important; word-wrap: break-word !important;">编者按：本文由网络埋伏纪事在众成翻译平台上翻译。天气晴好的周末，继续和小编一起学习“</span><span style="max-width: 100%; text-align: justify; white-space: pre-wrap; color: rgb(255, 255, 255); font-size: 16px; background-color: rgb(100, 159, 12); box-sizing: border-box !important; word-wrap: break-word !important;">组合软件”</span><span style="max-width: 100%; text-align: justify; white-space: pre-wrap; color: rgb(255, 255, 255); font-size: 16px; background-color: rgb(100, 159, 12); box-sizing: border-box !important; word-wrap: break-word !important;">系列第四篇吧～</span></strong></p><p style="margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><strong style="border: 0px;"></strong></p><blockquote style="margin-bottom: 20px; padding: 10px 6px; max-width: 100%; border-left-width: 10px; border-left-color: rgb(204, 203, 203); color: rgb(62, 62, 62); font-size: 16px; white-space: normal; quotes: none; background-color: rgb(229, 229, 229); box-sizing: border-box !important; word-wrap: break-word !important;"><p style="max-width: 100%; min-height: 1em; color: rgb(88, 90, 91); font-size: 1.14286rem; line-height: 1.8; word-break: break-all; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 15px; box-sizing: border-box !important; word-wrap: break-word !important;">注：这是从头开始学习 JavaScript ES6+ 中函数式编程和组合软件技术的 “组合软件” 系列教程的第四部分。请继续关注。后面会有更多部分出来！</span></p></blockquote><p style="margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><strong style="border: 0px;">高阶函数</strong>是以一个函数为实参，或者返回一个函数的函数。高级函数与一阶函数相反，一阶函数不能以一个函数为实参或者返回一个函数为输出的。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">之前我们看到过 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">.map()</span> 和 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">.filter()</span> 的例子。二者都以一个函数作为实参。二者都是高阶函数。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">下面我们来看一个一阶函数的例子。这个函数会从单词列表中过滤掉所有 4 个字母的单词：</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;censor&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px;">{</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;filtered&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px;">[</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">for</span>&nbsp;<span class="" style="border: 0px;">(</span><span class="" style="border: 0px; color: rgb(102, 217, 239);">let</span>&nbsp;i&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">0</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px;">{</span>&nbsp;length&nbsp;<span class="" style="border: 0px;">}</span>&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words<span class="" style="border: 0px;">;</span>&nbsp;i&nbsp;<span class="" style="border: 0px;">&lt;</span>&nbsp;length<span class="" style="border: 0px;">;</span>&nbsp;i<span class="" style="border: 0px;">++</span><span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">{</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;word&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words<span class="" style="border: 0px;">[</span>i<span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">if</span>&nbsp;<span class="" style="border: 0px;">(</span>word<span class="" style="border: 0px;">.</span>length&nbsp;<span class="" style="border: 0px;">!==</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">4</span><span class="" style="border: 0px;">)</span>&nbsp;filtered<span class="" style="border: 0px;">.</span><span class="" style="border: 0px; color: rgb(230, 219, 116);">push</span><span class="" style="border: 0px;">(</span>word<span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px;">}</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">return</span>&nbsp;filtered<span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">}</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(230, 219, 116);">censor</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px;">[</span><span class="" style="border: 0px; color: rgb(166, 226, 46);">'oops'</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(166, 226, 46);">'gasp'</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(166, 226, 46);">'shout'</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(166, 226, 46);">'sun'</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" spellcheck="true" style="border: 0px; color: slategray;">// [ 'shout', 'sun' ]</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">如果想选中以 's' 开头的所有单词该怎么办呢？我们可以创建另一个函数：</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;startsWithS&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px;">{</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;filtered&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px;">[</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">for</span>&nbsp;<span class="" style="border: 0px;">(</span><span class="" style="border: 0px; color: rgb(102, 217, 239);">let</span>&nbsp;i&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">0</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px;">{</span>&nbsp;length&nbsp;<span class="" style="border: 0px;">}</span>&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words<span class="" style="border: 0px;">;</span>&nbsp;i&nbsp;<span class="" style="border: 0px;">&lt;</span>&nbsp;length<span class="" style="border: 0px;">;</span>&nbsp;i<span class="" style="border: 0px;">++</span><span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">{</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;word&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words<span class="" style="border: 0px;">[</span>i<span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">if</span>&nbsp;<span class="" style="border: 0px;">(</span>word<span class="" style="border: 0px;">.</span><span class="" style="border: 0px; color: rgb(230, 219, 116);">startsWith</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px; color: rgb(166, 226, 46);">'s'</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">)</span>&nbsp;filtered<span class="" style="border: 0px;">.</span><span class="" style="border: 0px; color: rgb(230, 219, 116);">push</span><span class="" style="border: 0px;">(</span>word<span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px;">}</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">return</span>&nbsp;filtered<span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">}</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(230, 219, 116);">startsWithS</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px;">[</span><span class="" style="border: 0px; color: rgb(166, 226, 46);">'oops'</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(166, 226, 46);">'gasp'</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(166, 226, 46);">'shout'</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(166, 226, 46);">'sun'</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" spellcheck="true" style="border: 0px; color: slategray;">// [ 'shout', 'sun' ]</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">你可能已经看出这两个函数有不少重复的代码。这里就有一个模式形成了，它可以被抽象成更通用的解决方案。这两个函数有一个共同点：它们都遍历一个列表，并用给定的条件过滤列表。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">迭代和过滤看起来好像它们都在求着被抽象出来，这样就可以被共享和重用，从而可以创建各种类似的功能。毕竟，从列表中选择条目是很常见的任务。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">幸运的是，JavaScript 有头等函数。这是啥意思呢？就跟数字、字符串或者对象一样，函数可以：</p><ul class="list-paddingleft-2" style="list-style-type: disc;"><li><p>赋值给一个标识符（变量）</p></li><li><p>赋值给对象的属性</p></li><li><p>传递为实参</p></li><li><p>从函数返回</p></li></ul><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">从本质上说，我们可以像用程序中其它数据一样来用函数，而这让抽象变得更简单。例如，我们可以创建一个函数，通过给它传递一个处理不同之处的函数（我们称这个函数为 <em style="border: 0px;">reducer</em> ）作为参数，把遍历一个列表以及累加返回值的过程抽象出来：</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;reduce&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px;">(</span>reducer<span class="" style="border: 0px;">,</span>&nbsp;initial<span class="" style="border: 0px;">,</span>&nbsp;arr<span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px;">{</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 0; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; height: 6px; white-space: nowrap !important;"><br style="border: 0px;"></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" spellcheck="true" style="border: 0px; color: slategray;">// 共享的东西</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">let</span>&nbsp;acc&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;initial<span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">for</span>&nbsp;<span class="" style="border: 0px;">(</span><span class="" style="border: 0px; color: rgb(102, 217, 239);">let</span>&nbsp;i&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">0</span><span class="" style="border: 0px;">,</span>&nbsp;length&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;arr<span class="" style="border: 0px;">.</span>length<span class="" style="border: 0px;">;</span>&nbsp;i&nbsp;<span class="" style="border: 0px;">&lt;</span>&nbsp;length<span class="" style="border: 0px;">;</span>&nbsp;i<span class="" style="border: 0px;">++</span><span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">{</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" spellcheck="true" style="border: 0px; color: slategray;">// 特殊的东西放在 reducer() 调用中</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;acc&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px; color: rgb(230, 219, 116);">reducer</span><span class="" style="border: 0px;">(</span>acc<span class="" style="border: 0px;">,</span>&nbsp;arr<span class="" style="border: 0px;">[</span>i<span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" spellcheck="true" style="border: 0px; color: slategray;">// 更多共享的东西</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px;">}</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border: 0px; color: rgb(102, 217, 239);">return</span>&nbsp;acc<span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">}</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 0; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; height: 6px; white-space: nowrap !important;"><br style="border: 0px;"></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(230, 219, 116);">reduce</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px;">(</span>acc<span class="" style="border: 0px;">,</span>&nbsp;curr<span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;acc&nbsp;<span class="" style="border: 0px;">+</span>&nbsp;curr<span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">0</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px;">[</span><span class="" style="border: 0px; color: rgb(174, 129, 255);">1</span><span class="" style="border: 0px;">,</span><span class="" style="border: 0px; color: rgb(174, 129, 255);">2</span><span class="" style="border: 0px;">,</span><span class="" style="border: 0px; color: rgb(174, 129, 255);">3</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span>&nbsp;<span class="" spellcheck="true" style="border: 0px; color: slategray;">// 6</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">这个 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">reduce()</span> 实现以一个 reducer 函数、一个用于累加器的初始值 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">initial</span>，和一个要遍历的数组 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">arr</span> 为参数。对于数组中的每一个条目，调用 reducer，将累加器和当前数组元素作为参数传递给 reducer 函数。返回值被赋值给累加器。当完成对列表中所有值应用 reducer 后，返回累加值。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">在使用示例中，我们调用 reduce，向它传递第一个参数：函数 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">(acc, curr) =&gt; acc + curr</span>。这个函数以累加器和数组的当前值作为参数，返回一个新的累加值。然后，我们传进一个初始值 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">0</span>，最后传进要遍历的数据。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">将遍历和值累加抽象出来后，现在我们可以实现一个更通用的 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">filter()</span> 函数了：</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;filter&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px;">(</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;fn<span class="" style="border: 0px;">,</span>&nbsp;arr</p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px; color: rgb(230, 219, 116);">reduce</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px;">(</span>acc<span class="" style="border: 0px;">,</span>&nbsp;curr<span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px; color: rgb(230, 219, 116);">fn</span><span class="" style="border: 0px;">(</span>curr<span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">?</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;acc<span class="" style="border: 0px;">.</span><span class="" style="border: 0px; color: rgb(230, 219, 116);">concat</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px;">[</span>curr<span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">)</span>&nbsp;<span class="" style="border: 0px;">:</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;acc<span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px;">[</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">,</span>&nbsp;arr</p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">在 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">filter()</span> 函数中，除了传进来作为参数的 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">fn()</span> 函数以外，一切都是共享的。这个 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">fn()</span> 参数称为一个断言。<strong style="border: 0px;">断言</strong>（predicate）是返回一个布尔值的函数。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">我们用当前值来调用 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">fn()</span>，并且如果 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">fn(curr)</span> 测试返回 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">true</span>，就把 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">curr</span> 值合并到累加器数组。否则，就只返回当前累加器值。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">现在我们可以用 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">filter()</span> 来实现 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">censor()</span>，过滤掉 4个字符的单词：</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;censor&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px; color: rgb(230, 219, 116);">filter</span><span class="" style="border: 0px;">(</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;word&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;word<span class="" style="border: 0px;">.</span>length&nbsp;<span class="" style="border: 0px;">!==</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">4</span><span class="" style="border: 0px;">,</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;words</p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">哇！所有通用的东西被抽象出来后，<span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">censor()</span> 就成了一个很小的函数。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">startsWithS()</span> 也是如此：</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;startsWithS&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;words&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;<span class="" style="border: 0px; color: rgb(230, 219, 116);">filter</span><span class="" style="border: 0px;">(</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;word&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;word<span class="" style="border: 0px;">.</span><span class="" style="border: 0px; color: rgb(230, 219, 116);">startsWith</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px; color: rgb(166, 226, 46);">'s'</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">,</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;">&nbsp;&nbsp;words</p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">如果你关注的话，可能已经知道 JavaScript 已经为我们实现了这种抽象。我们有了 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">Array.prototype</span> 方法、<span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">.reduce()</span>、<span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">.filter()</span> 和 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">.map()</span> 以及更多好的措施。</p><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">高阶函数还常用于对如何操作不同数据类型进行抽象。例如，<span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">.filter()</span> 不必只操作字符串数组。它可以很容易过滤数字，因为你可以传递进一个函数，而该函数知道如何处理不同的数据类型。还记得 <span class="" style="margin-right: 2px; margin-left: 2px; border: 1px solid rgb(225, 225, 232); padding: 2px 4px; font-size: 14px; font-family: monospace; color: rgb(221, 17, 68); background-color: rgb(247, 247, 249); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; word-break: break-all; word-wrap: break-word;">highpass()</span> 的例子吧？</p><blockquote class="" style="border: 0px; padding-left: 0px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; white-space: normal; widows: 2;"><pre class="" style="border: 0px; padding: 1em; overflow: auto; background-color: rgb(39, 40, 34); color: rgb(248, 248, 242); font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; max-width: 100%; word-wrap: normal; text-shadow: rgba(0, 0, 0, 0.298039) 0px 1px; word-spacing: normal; word-break: normal; line-height: 1.5; tab-size: 4; border-top-left-radius: 0.3em; border-top-right-radius: 0.3em; border-bottom-right-radius: 0.3em; border-bottom-left-radius: 0.3em; box-sizing: border-box !important;"><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;highpass&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;cutoff&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;n&nbsp;<span class="" style="border: 0px;">=</span><span class="" style="border: 0px;">&gt;</span>&nbsp;n&nbsp;<span class="" style="border: 0px;">&gt;=</span>&nbsp;cutoff<span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px; color: rgb(102, 217, 239);">const</span>&nbsp;gt3&nbsp;<span class="" style="border: 0px;">=</span>&nbsp;<span class="" style="border: 0px; color: rgb(230, 219, 116);">highpass</span><span class="" style="border: 0px;">(</span><span class="" style="border: 0px; color: rgb(174, 129, 255);">3</span><span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span></p><p class="" style="margin-top: 3px; margin-bottom: 3px; border: 0px; line-height: 16px; text-align: justify; word-break: break-all; word-wrap: break-word; font-size: 15px; white-space: nowrap !important;"><span class="" style="border: 0px;">[</span><span class="" style="border: 0px; color: rgb(174, 129, 255);">1</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">2</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">3</span><span class="" style="border: 0px;">,</span>&nbsp;<span class="" style="border: 0px; color: rgb(174, 129, 255);">4</span><span class="" style="border: 0px;">]</span><span class="" style="border: 0px;">.</span><span class="" style="border: 0px; color: rgb(230, 219, 116);">filter</span><span class="" style="border: 0px;">(</span>gt3<span class="" style="border: 0px;">)</span><span class="" style="border: 0px;">;</span>&nbsp;<span class="" spellcheck="true" style="border: 0px; color: slategray;">// [3, 4];</span></p></pre></blockquote><p style="margin-top: 10px; margin-bottom: 10px; border: 0px; line-height: 2; text-align: justify; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei'; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2;">换句话说，你可以用高阶函数来让一个函数多态化。正如你所见，高阶函数比一阶函数可重用和通用得多。一般来说，我们会在实际应用程序代码中组合使用高阶函数和很简单的一阶函数。</p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">奇舞周刊</span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">———<span style="max-width: 100%; color: rgb(136, 136, 136); line-height: 25.6px; box-sizing: border-box !important; word-wrap: break-word !important;">————————————</span>———</span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">领略前端技术 阅读奇舞周刊</span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; text-align: center; line-height: 1.5em; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 13px; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;">长按二维码，关注奇舞周刊</span></p><p style="max-width: 100%; min-height: 1em; font-size: 16px; white-space: normal; color: rgb(32, 32, 32); text-align: center; line-height: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 10px; color: rgb(68, 68, 68); box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">▼</strong></span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><img src="/gh_ffb279ea1674/images/c90ddd430cc349648caf4c4ff107fc8767904250.jpeg" style="box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: 200px !important; height: 200px !important;"></p><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1494425908&src=3&ver=1&signature=T3pUTKCUVTFXYE3cOj0PN*Y2qT4er2ul-ig6wNkGbNy5Rprb90Ast-QlBbLTPxLnQ7xXi3Rzbzog6mwczkxMKDHNghun4Vezc1HwWhCgiyhyLKKEnfk0VIkWtAej5yU*mlNzHWr3zb73dd3QFfc3NA3mCqRKZ9aeXd*R7pU2OTE=">微信地址</a> | <a href="http://zcfy.cc/article/higher-order-functions-composing-software-javascript-scene-medium-2696.html">阅读原文</a>
{% endraw  %}

