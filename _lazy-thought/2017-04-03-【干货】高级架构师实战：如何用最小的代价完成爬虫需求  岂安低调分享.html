---
title: 【干货】高级架构师实战：如何用最小的代价完成爬虫需求 | 岂安低调分享
author: 踏浪无痕
date: '2017-04-03 00:00:00 +0000'

---

{% raw  %}
<section data-role="outer" label="Powered by 135editor.com" style="font-family: 微软雅黑; font-size: 16px;"><section class="" data-tools="135编辑器" data-id="86008" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><section class="" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><section style="border-color: rgb(245, 245, 245); color: rgb(123, 123, 123); margin-right: auto; margin-left: auto; padding-right: 5px; padding-left: 5px; background-color: rgb(245, 245, 245); box-sizing: border-box;"><section class="" style="border-width: 0px; border-style: none; border-color: initial; width: 20%; float: left; box-sizing: border-box;" data-width="20%"><section class="" style="padding: 10px 8px; border-top: 2px solid rgb(77, 92, 166); border-right-color: rgb(77, 92, 166); border-bottom-color: rgb(77, 92, 166); border-left-color: rgb(77, 92, 166); color: rgb(77, 92, 166); background: rgb(255, 255, 255); box-sizing: border-box;"><p style="text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em; white-space: normal;">干货</p></section></section><section class="" style="border-width: 0px; border-style: none; border-color: initial; width: 20%; float: left; box-sizing: border-box;" data-width="20%"><section class="" style="color: inherit; padding: 10px 8px; box-sizing: border-box;"><p style="text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em; white-space: normal;">观点</p></section></section><section class="" style="border-width: 0px; border-style: none; border-color: initial; width: 20%; float: left; box-sizing: border-box;" data-width="20%"><section class="" style="color: inherit; padding: 10px 8px; box-sizing: border-box;"><p style="text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em; white-space: normal;">案例</p></section></section><section class="" style="border-width: 0px; border-style: none; border-color: initial; width: 20%; float: left; box-sizing: border-box;" data-width="20%"><section class="" style="color: inherit; padding: 10px 8px; box-sizing: border-box;"><p style="text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em; white-space: normal;">资讯</p></section></section><section class="" style="border-width: 0px; border-style: none; border-color: initial; width: 20%; float: left; box-sizing: border-box;" data-width="20%"><section class="" style="color: inherit; padding: 10px 8px; box-sizing: border-box;"><p style="text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em; white-space: normal;">我们</p></section></section><section style="width: 0px; height: 0px; clear: both;"></section></section></section><p style="white-space: normal;"><br></p></section><p style="white-space: normal;"><br></p><p><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFicQ9yY9icVAMSYYI7YfoBOSFwyDnrVO0vYWwx2n8QuWLIHAVAicMc6klayrtRjSd5rwb4o9zBAQsBA/0?wx_fmt=jpeg" style="width: auto !important; height: auto !important; visibility: visible !important;"></p><section class="" data-tools="135编辑器" data-id="88743" style=" border-width: 0px; border-style: none; border-color: initial;  text-align: center; box-sizing: border-box; " data-color="rgb(77, 92, 166)"><p style=" margin-top: 10px; margin-bottom: 10px;  box-sizing: border-box; text-indent: 0em; white-space: normal; "><br></p><section style="display: inline-block; vertical-align: middle; padding-right: 6px; padding-left: 6px; box-sizing: border-box;"><section class="" data-brushtype="text" style="border-bottom: 2px solid rgb(77, 92, 166); padding-right: 10px; padding-left: 10px; box-sizing: border-box;"><strong><span style="color: #7F7F7F; font-size: 20px;">一 &nbsp;缘起</span></strong></section><section style="margin-top: -4px; box-sizing: border-box;"><section style="float: left; width: 6px; height: 6px; margin-left: -6px; border-radius: 100%; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="float: right; width: 6px; height: 6px; border-radius: 100%; margin-right: -6px; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="clear: both; box-sizing: border-box;"></section></section></section><p style="white-space: normal;"><br></p></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">在我工作的多家公司，有众多的领域，如房产，电商，广告等领域。尽管业务相差很大，但都涉及到爬虫领域。开发爬虫项目多了后，自然而然的会面对一个问题——</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><br></span></p><section class="" data-tools="135编辑器" data-id="86412" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><section style="margin: 1em auto; border-width: initial; border-style: none; border-color: initial; text-align: center; box-sizing: border-box;"><section style="border-left: 3px solid rgb(77, 92, 166); box-sizing: border-box;"><section class="" style="margin-left: 2px; padding: 0.6em; line-height: 1.5; text-align: left; border-left: 1px solid rgb(77, 92, 166); border-top-color: rgb(77, 92, 166); border-right-color: rgb(77, 92, 166); border-bottom-color: rgb(77, 92, 166); box-sizing: border-box;"><p style="white-space: normal;"><span style="font-size: 15px; color: #7F7F7F;">这些开发的爬虫项目有通用性吗？</span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><span style="font-size: 15px; color: #7F7F7F;">有没有可能花费较小的代价完成一个新的爬虫需求？</span></p><p style="white-space: normal;"><br></p><p style="white-space: normal;"><span style="font-size: 15px; color: #7F7F7F;">在维护运营过程中，是否能够工具化，构建基于配置化的分布式爬虫应用？</span></p></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">这就是是我们今天要讨论的话题。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88743" style=" border-width: 0px; border-style: none; border-color: initial;  text-align: center; box-sizing: border-box; " data-color="rgb(77, 92, 166)"><p style=" margin-top: 10px; margin-bottom: 10px;  box-sizing: border-box; text-indent: 0em; white-space: normal; "><br></p><section style="display: inline-block; vertical-align: middle; padding-right: 6px; padding-left: 6px; box-sizing: border-box;"><section class="" data-brushtype="text" style="border-bottom: 2px solid rgb(77, 92, 166); padding-right: 10px; padding-left: 10px; box-sizing: border-box;"><span style="font-size: 20px;"><strong><span style="color: #7F7F7F;">二 &nbsp;项目需求</span></strong></span></section><section style="margin-top: -4px; box-sizing: border-box;"><section style="float: left; width: 6px; height: 6px; margin-left: -6px; border-radius: 100%; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="float: right; width: 6px; height: 6px; border-radius: 100%; margin-right: -6px; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="clear: both; box-sizing: border-box;"></section></section></section><p style="white-space: normal;"><br></p></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">立项之初，我们从使用的脚度试着提几个需求。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="font-size: 15px; color: rgb(136, 136, 136);">1. 分布式抓取</span></strong></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">由于抓取量可能非常庞大，一台机器不足以处理百万以上的抓取任务，因此分布式爬虫应用是首当其冲要面对并解决的问题。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">&nbsp; &nbsp; &nbsp;</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="font-size: 15px; color: rgb(136, 136, 136);">2. 模块化，轻量</span></strong></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">我们将爬虫应用分成“应用层，服务层，业务处理层，调度层” 四个脚色。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="font-size: 15px; color: rgb(136, 136, 136);">3. 可管理，可监控</span></strong></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">管理监控是一个体系，即配置可管理化，运行实时监控化。</span><span style="text-indent: 0em; font-size: 15px; color: rgb(136, 136, 136);">在系统正常运行时，可以变更爬虫的配置，一旦实时监控爬虫出现异常，可实时修正配置进行干预。</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">所有的一切，均可以通过UI界面进行操作。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">4. 通用性，可扩展。</span></strong></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="text-indent: 0em; font-size: 15px; color: rgb(136, 136, 136);">爬虫业务往往多变，不同领域的爬取需求不尽相同。举例说，房源抓取包含图片抓取，小区信息抓取，房源去重等模块。</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">新闻抓取包括内容抓取，正文提取，信息摘要等相关。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">因此，系统需要能够支持业务扩展需求，可以支持不同的业务使用同一套框架进行应用开发。&nbsp;</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88743" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><section style=" margin-top: 10px; margin-bottom: 10px; text-align: center;  box-sizing: border-box; "><section style="display: inline-block; vertical-align: middle; padding-right: 6px; padding-left: 6px; box-sizing: border-box;"><section class="" data-brushtype="text" style="border-bottom: 2px solid rgb(77, 92, 166); padding-right: 10px; padding-left: 10px; box-sizing: border-box;"><span style="color: #7F7F7F; font-size: 20px;"><strong>三 &nbsp;模块分解</strong></span></section><section style="margin-top: -4px; box-sizing: border-box;"><section style="float: left; width: 6px; height: 6px; margin-left: -6px; border-radius: 100%; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="float: right; width: 6px; height: 6px; border-radius: 100%; margin-right: -6px; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="clear: both; box-sizing: border-box;"></section></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">针对业务需求，我们将系统分解成多个应用模块。</span><span style="font-size: 15px; color: rgb(136, 136, 136);"></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="7308" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><p class="" data-brushtype="text" style="padding-bottom: 9px; padding-left: 5px; border-bottom: 1px solid rgb(238, 238, 238); margin: 10px auto; line-height: 1.1; font-size: 18px; white-space: normal;"><strong><span style="color: #7F7F7F;">应用层</span></strong></p></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">&nbsp; &nbsp;&nbsp;</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">应用层是针对管理员，系统维护人员使用。主要分成两个模块，系统配置模块和运营管理模块。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><ul class="list-paddingleft-2"><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="font-size: 15px; color: rgb(136, 136, 136);">系统配置模块：</span></strong><span style="font-size: 15px; color: rgb(136, 136, 136);">系统配置模块包含抓取网站管理配置，在线测试等功能。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"></span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">运营管理模块：</span></strong><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">运营管理模块包含实时抓取量统计，分析，正确率等。甚至包括失败原因，失败量。</span></p></li></ul><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">&nbsp; &nbsp;</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">系统运营人员可以根据运营模块得到实时的反馈，使用系统配置模块进行配置修正，在线测试正确后</span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">将配置生效，再实时监控新的配置产生的效果。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">&nbsp; &nbsp;&nbsp;</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><br></span></p><section class="" data-tools="135编辑器" data-id="7308" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><p class="" data-brushtype="text" style="padding-bottom: 9px; padding-left: 5px; border-bottom: 1px solid rgb(238, 238, 238); margin: 10px auto; line-height: 1.1; font-size: 18px; white-space: normal;"><span style="color: #7F7F7F;"><strong>服务层</strong></span></p></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">服务层是整个系统传输的中枢，相当于整个分布式集中的系统总线和数据总线。</span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">服务层提供一个http/thrift接口，读取数据库，输出配置信息。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><ol class="list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">提供网站爬虫配置接口。从数据库中实时读取配置信息，响应业务层的配置请求。</span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">提供业务层输出写入接口。接受业务层实时爬取的信息汇总，包括正确数据量，错误数据量，以及错误原因。</span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">提供实时报表统计分析。响应应用层的运营管理模块，查询数据库，实时提供数据分析报告。</span></p></li></ol><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="7308" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><p class="" data-brushtype="text" style="padding-bottom: 9px; padding-left: 5px; border-bottom: 1px solid rgb(238, 238, 238); margin: 10px auto; line-height: 1.1; font-size: 18px; white-space: normal;"><strong><span style="color: #7F7F7F;">业务处理层</span></strong></p></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><strong><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;</span></strong></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">业务处理层是整个爬虫系统的核心，可分成多台应用服务器进行处理。业务处理层主要包含解决两件事情。</span><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><ul class="list-paddingleft-2"><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">如何获取url</span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">得到url后，如何处理</span></p></li></ul><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="86412" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><section style="margin: 1em auto; border-width: initial; border-style: none; border-color: initial; text-align: center; box-sizing: border-box;"><section style="border-left: 3px solid rgb(77, 92, 166); box-sizing: border-box;"><section class="" style="margin-left: 2px; padding: 0.6em; line-height: 1.5; text-align: left; border-left: 1px solid rgb(77, 92, 166); border-top-color: rgb(77, 92, 166); border-right-color: rgb(77, 92, 166); border-bottom-color: rgb(77, 92, 166); box-sizing: border-box;"><strong><span style="color: #7F7F7F;">（一） &nbsp;如何获取url</span></strong></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">对于爬虫来说，如何获取url至关重要。我们将这一过程定义为发现系统。</span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">对于发现系统而言，目标为如何发现待抓取网站的详细url列表，尽可能的发现更全。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="89029" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><section class="" style="   box-sizing: border-box;margin:10px auto; "><section><section style="display: inline-block; vertical-align: top; width: 40%; box-sizing: border-box;" data-width="40%"><section style=" margin-top: 0.5em; margin-bottom: 0.5em;  box-sizing: border-box; "><section style="border-top: 1px dotted rgb(62, 62, 63); box-sizing: border-box;"></section></section></section><section style="display: inline-block; vertical-align: top; width: 20%; box-sizing: border-box;" data-width="20%"><section style=" margin-top: -10px; margin-right: 0%; margin-left: 0%; text-align: center; font-size: 9.6px;  box-sizing: border-box; "><section style="display: inline-block; box-sizing: border-box;"><section style="background-color: rgb(62, 62, 63); width: 1.6em; height: 1.6em; line-height: 1.6em; border-radius: 100%; margin-left: auto; margin-right: auto; font-size: 17.28px; color: rgb(255, 255, 255); box-sizing: border-box;"><p class="" style="box-sizing: border-box; white-space: normal;" data-original-title="" title="">1</p></section><section style="width: 0px; margin-top: -0.76em; border-bottom: 0.8em solid rgb(62, 62, 63); border-left: 0.8em solid transparent !important; border-right: 0.5em solid transparent !important; box-sizing: border-box;"></section></section></section></section><section style="display: inline-block; vertical-align: top; width: 40%; box-sizing: border-box;" data-width="40%"><section style=" margin-top: 0.5em; margin-bottom: 0.5em;  box-sizing: border-box; "><section style="border-top: 1px dotted rgb(62, 62, 63); box-sizing: border-box;"></section></section></section></section><section class="" data-brushtype="text" style=" margin-top: -4px; margin-right: 0%; margin-left: 0%;  box-sizing: border-box; "><section style="text-align: center; font-size: 20px; color: rgb(62, 62, 63); box-sizing: border-box;"><p style="box-sizing: border-box; white-space: normal;"><strong><span style="font-size: 15px;">假设场景 A</span></strong></p></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">我们逛一个电商网站：打开首页-打开分类页-可能会有多层分类页-逐层点击-直至最小的分类页面。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">打开这个分类页会发现该分类页下的所有分页页面，一页一页往下翻，就能够获得该分类页的所有商品。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="89029" style=" border-width: 0px; border-style: none; border-color: initial;  "><section class="" style="   box-sizing: border-box;margin:10px auto; "><section><section style="display: inline-block; vertical-align: top; width: 40%; box-sizing: border-box;" data-width="40%"><section style=" margin-top: 0.5em; margin-bottom: 0.5em;  box-sizing: border-box; "><section style="border-top: 1px dotted rgb(62, 62, 63); box-sizing: border-box;"></section></section></section><section style="display: inline-block; vertical-align: top; width: 20%; box-sizing: border-box;" data-width="20%"><section style=" margin-top: -10px; margin-right: 0%; margin-left: 0%; text-align: center; font-size: 9.6px;  box-sizing: border-box; "><section style="display: inline-block; box-sizing: border-box;"><section style="background-color: rgb(62, 62, 63); width: 1.6em; height: 1.6em; line-height: 1.6em; border-radius: 100%; margin-left: auto; margin-right: auto; font-size: 17.28px; color: rgb(255, 255, 255); box-sizing: border-box;"><p class="" style="box-sizing: border-box;" data-original-title="" title="">2</p></section><section style="width: 0px; margin-top: -0.76em; border-bottom: 0.8em solid rgb(62, 62, 63); border-left: 0.8em solid transparent !important; border-right: 0.5em solid transparent !important; box-sizing: border-box;"></section></section></section></section><section style="display: inline-block; vertical-align: top; width: 40%; box-sizing: border-box;" data-width="40%"><section style=" margin-top: 0.5em; margin-bottom: 0.5em;  box-sizing: border-box; "><section style="border-top: 1px dotted rgb(62, 62, 63); box-sizing: border-box;"></section></section></section></section><section class="" data-brushtype="text" style=" margin-top: -4px; margin-right: 0%; margin-left: 0%;  box-sizing: border-box; "><section style="text-align: center; font-size: 20px; color: rgb(62, 62, 63); box-sizing: border-box;"><p style="box-sizing: border-box;"><strong><span style="font-size: 15px;">假设场景 B</span></strong></p></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br><span style="font-size: 15px; color: rgb(136, 136, 136);"></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">我们逛一个汽车网站：打开首页-找到品牌页-接着找到车系-最后找到车款页面。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><hr><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">通过以上场景分析可以得到一个结论，人能非常智能的找到所有待抓取的详细页面，即电商的商品，汽车的车款页面。</span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">那么，是否可以通过配置方式来模拟这一过程呢？</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">请看下图：</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">&nbsp; &nbsp;&nbsp;</span></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFicQ9yY9icVAMSYYI7YfoBOSnOU162dZFsEDwfNiaIU5eJd1WKAvr5Or9EBAyztS8zLRYdHCGNZicBDA/0?" style="width: 678px !important; height: 496px !important;"></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">备注如下：</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 16px;"><strong><span style="color: rgb(136, 136, 136);">1.&nbsp;root_info</span></strong><span style="color: rgb(136, 136, 136);">：</span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">定义发现模块的入口页面，如同人打开汽车站的网页，后续的发现都是起始于这些入口页。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">这里给出的实例是，某汽车网的品牌列表页，根据</span>“<span style="font-size: 15px;">模板化</span>”<span style="font-size: 15px;">套用变量的配置，共有</span>100<span style="font-size: 15px;">个入口页。</span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="color: rgb(136, 136, 136); font-size: 16px;">2.&nbsp;s</span></strong><span style="color: rgb(136, 136, 136); font-size: 16px;"><strong>teps</strong>:&nbsp;</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">依次遍历这</span>100<span style="font-size: 15px;">个入口页，分别会执行</span>steps<span style="font-size: 15px;">中定义的步骤。机器模拟人的方式进行查看浏览。</span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">每个</span>step<span style="font-size: 15px;">中，会使用</span>"link_module"<span style="font-size: 15px;">定义的类进行逻辑进行处理。</span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><ol class="list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">读取入口页的</span>html<span style="font-size: 15px;">，结合</span>"sub_prefix","sub_suffix"<span style="font-size: 15px;">和</span>"select"<span style="font-size: 15px;">定义的内容，获得页面子区域</span>html<span style="font-size: 15px;">。</span></span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">使用</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 14px;">"link_match_method"</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">的方法（含前缀包含，匹配等）</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 14px;">,</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">抽取子区域的链接。</span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">每个链接</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 14px;">&nbsp;</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">和</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 14px;">"link_pattern"</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">进行匹配，匹配成功的</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 14px;">url</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">进入下一步。</span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">每一步得到的</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">url</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">，自动进和地下一步处理，处理逻辑为递归上面</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">a-c</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">，直至</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">"last_step"</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">为</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">true</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">为止。</span></p></li></ol><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">此处，即</span>"last_step"<span style="font-size: 15px;">为</span>true<span style="font-size: 15px;">中发现的</span>url<span style="font-size: 15px;">，即为发现系统最终需要获取的</span>url<span style="font-size: 15px;">列表。</span></span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">发现系统总结，通过配置的方式，结合人类的浏览习惯，通过若干步迭代，最终获取网站的详细页</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 14px;">url</span><span style="text-indent: 0em; color: rgb(136, 136, 136); font-size: 15px;">列表。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">由于每一步的抽取链接规则，以及步数据都是人为定义，因此，可以适配绝大部分网站的发现系统。当然，越</span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">复杂的网站发现配置可能更多一些、更为繁杂，但万变不离其宗。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="86412" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)"><section style="margin: 1em auto; border-width: initial; border-style: none; border-color: initial; text-align: center; box-sizing: border-box;"><section style="border-left: 3px solid rgb(77, 92, 166); box-sizing: border-box;"><section class="" style="margin-left: 2px; padding: 0.6em; line-height: 1.5; text-align: left; border-left: 1px solid rgb(77, 92, 166); border-top-color: rgb(77, 92, 166); border-right-color: rgb(77, 92, 166); border-bottom-color: rgb(77, 92, 166); box-sizing: border-box;"><p style="white-space: normal;"><span style="color: #7F7F7F;"><strong>（二）得到url后，如何处理</strong></span></p></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">前提当然是每个业务的处理各不相同，有抽取页面属性功能、有正文提取、有图片获取，甚至有和当前系统对接等。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">由于业务处理不一致，很自然想到的是通过配置方式，定义职责链系统，如同著名框架</span>Netty<span style="font-size: 15px;">中的</span>Pipeline<span style="font-size: 15px;">设计。</span></span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">在处理过程中，定义一个</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">Context</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">上下文处理类，并且，所有的中间结果都暂缓在这个</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">Context</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">中。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">描述比较空洞，还是结合实际案例来看。</span></p><p style="font-size: medium; white-space: normal;"><br></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFicQ9yY9icVAMSYYI7YfoBOSsyM8l1yGIjXJJbKUAbTx53Iq5jq8icyiadDfujFbsvyDR4ALGq7AkliaA/0?" style="width: 770px !important; height: 551.375px !important;"></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">备注如下：</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">得到一个</span>url<span style="font-size: 15px;">后，读取配置，当</span>url<span style="font-size: 15px;">和</span>"site"<span style="font-size: 15px;">匹配时，适用当前</span>"site"<span style="font-size: 15px;">规则。</span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="font-size: 16px;"><span style="color: rgb(136, 136, 136);">1. &nbsp;</span><span style="color: rgb(136, 136, 136); text-indent: 0em;">pipeline定义职责链的处理过程</span></span></strong></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">此处的定义为</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">“</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">抓取模块，</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">Javascript</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">处理模块，通用解析模块</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">”。</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">对应的处理如下：</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">先执行抓取模块，得到</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">html</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">。紧接着执行</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">Javascript</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">处理模块，输入为</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">html</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">，解析</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">html</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">，此处可能是评论，也可能是价格，总之处理的是动态加载项目，紧接着处理</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">“</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">通用解析模块</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">”</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="color: rgb(136, 136, 136); font-size: 16px;">2. &nbsp;"par</span></strong><span style="color: rgb(136, 136, 136); font-size: 16px;"><strong>ser_rules"<span style="color: rgb(136, 136, 136);">定义的是解析模块</span></strong></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">最终输出的是</span>kv<span style="font-size: 15px;">，在</span>java<span style="font-size: 15px;">中是</span>map<span style="font-size: 15px;">，</span>python<span style="font-size: 15px;">中是</span>dict<span style="font-size: 15px;">。</span></span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">即从上一步的</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">html</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">中，找到每一荐的</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">"sizzle"</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">，执行</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">"prefix","suffix"</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">即前后缀移除</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">(</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 12px;">过滤如同“价格：xxx元，前缀为“价格:"，后缀为元</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">)。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">对了，</span>sizzle<span style="font-size: 15px;">也是一个开源技术，据说以前鼎鼎有名的</span>Jquery<span style="font-size: 15px;">也是</span>"sizzle"<span style="font-size: 15px;">引擎。</span>Java<span style="font-size: 15px;">中可以使用</span>Jsoup<span style="font-size: 15px;">解析处理。</span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">怎么知道需要取的</span>"sizzle"<span style="font-size: 15px;">内容是什么呢？具体可以结合</span>firebug<span style="font-size: 15px;">插件，选中即可得。</span></span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">选中后，结合应用层的管理工具，即可进行测试。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="color: rgb(136, 136, 136); font-size: 16px;">3.&nbsp;“i</span></strong><span style="color: rgb(136, 136, 136); font-size: 16px;"><strong>srequire"</strong></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">可以看到，配置项中有</span>“isrequire"<span style="font-size: 15px;">，表示这项内容是否必须。如果必须，且在实际处理中获取不到，那么在抓取的过程中，就会记录一个错误，</span></span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">&nbsp;</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">错误原因自然是</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">“$key is null"。</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">此外，每一个</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">module</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">都可能出错，一旦出错，就没有必要往后去执行。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">因此，在抓取过程中，业务处理层从服务层获得一批</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">url(</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">默认</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">100</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">个）后，在处理这一百个</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">url</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">结束后，会向服层</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">report</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">，</span><span style="color: rgb(136, 136, 136); font-size: 14px; text-indent: 0em;">report</span><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">内容为：</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;"><br></span></p><section class="" data-tools="135编辑器" data-id="88288" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(117, 117, 118)" data-custom="rgb(117, 117, 118)"><section style=" margin-top: 10px; margin-bottom: 10px;  "><section style="padding: 10px; background-color: rgb(239, 239, 239); box-sizing: border-box;"><section class=""><span style="color: #7F7F7F; font-size: 14px;">当前任务处理机器，于什么时间处理100个页面。不同网站成功多少、失败多少、什么模块失败多少，解析模块什么字段失败多少。</span></section></section><section style="margin-top: -4px;width: 100%;transform: rotate(0deg);-webkit-transform: rotate(0deg);-moz-transform: rotate(0deg);-ms-transform: rotate(0deg);-o-transform: rotate(0deg);" data-width="100%"><section style="width: 50px; height: 4px; background-color: rgb(117, 117, 118); color: rgb(255, 255, 255); margin-left: auto;"></section></section></section></section><p style="line-height: 2em; white-space: normal;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); text-indent: 0em; font-size: 15px;">所有这些信息，均是实时统计，并在运营监控系统中以图</span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">表形示绘制出来，必要时可以发出报警，交由维护人员实时干预。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><hr><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: #548DD4;"><strong><span style="font-size: 15px;">Q:</span><span style="font-size: 14px;"><span style="font-size: 15px;"> 提一个问题，新增一个</span>anotherauto.com<span style="font-size: 15px;">网站怎么办？</span></span><span style="font-size: 15px;"></span></strong></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: #548DD4;"><span style="font-size: 15px;">A:</span><span style="font-size: 14px;"><span style="font-size: 15px;"> 其实也很简单，再增加一个配置呗。业务定义</span>pipeline<span style="font-size: 15px;">，如果有解析需求，填写对应的解析项即可。</span></span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><hr><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);"><br></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: rgb(136, 136, 136);">以上两个系统，发现系统和处理系统，在我们实际生产中，是通过以下步骤贯穿。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><ol class="list-paddingleft-2" style="list-style-type: lower-alpha;"><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;">发现系统累计发现待抓取网站的详细页，因为是一个累计持续的过程。因此有把握持续无限接近网站的</span>100%<span style="font-size: 15px;">页面。</span></span></p></li><li><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 14px; color: rgb(136, 136, 136);"><span style="font-size: 15px;"></span></span><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">处理系统通过服务层，每次去取配置信息（可能维护人员在实时修正）及待抓取的列表进行处理。</span></p></li></ol><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px;">待抓取的列表根据业务的优先级，分普通队列及优先级队列，通过任务调度系统进行统一管理和配置。</span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="7308" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><p class="" data-brushtype="text" style="padding-bottom: 9px; padding-left: 5px; border-bottom: 1px solid rgb(238, 238, 238); margin: 10px auto; line-height: 1.1; font-size: 18px; white-space: normal;"><span style="font-size: 20px; color: #7F7F7F;"><strong>调度层</strong></span></p></section><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><ul class="list-paddingleft-2"><li><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">调度层主要是业务系统。</span></p></li><li><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">新增一个网站任务调度</span></p></li><li><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">网站发现频率，包括增量发现频率和全量发现频率</span></p></li><li><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">网站抓取优先级推送至队列</span></p></li><li><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">断点续抓管理</span></p></li><li><p style="margin-left: 24px; font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(136, 136, 136); font-size: 15px; text-indent: 0em;">......</span></p></li></ul><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88743" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)" data-custom="rgb(77, 92, 166)"><section style=" margin-top: 10px; margin-bottom: 10px; text-align: center;  box-sizing: border-box; "><section style="display: inline-block; vertical-align: middle; padding-right: 6px; padding-left: 6px; box-sizing: border-box;"><section class="" data-brushtype="text" style="border-bottom: 2px solid rgb(77, 92, 166); padding-right: 10px; padding-left: 10px; box-sizing: border-box;"><span style="color: #7F7F7F;"><strong><span style="font-size: 19px;">四&nbsp;&nbsp;系统架构设计</span></strong></span></section><section style="margin-top: -4px; box-sizing: border-box;"><section style="float: left; width: 6px; height: 6px; margin-left: -6px; border-radius: 100%; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="float: right; width: 6px; height: 6px; border-radius: 100%; margin-right: -6px; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="clear: both; box-sizing: border-box;"></section></section></section></section></section><p style="white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88946" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><section><section><section style="display: inline-block; vertical-align: top; height: 1.8em; color: rgba(249, 110, 87, 0); width: 1.8em; border-radius: 50%; border-width: 0px; border-style: solid; border-color: rgb(249, 110, 87); font-size: 1.6em; font-weight: inherit; text-align: center; text-decoration: inherit; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_gif/yqVAqoZvDibGd7hdQicMMTnsdvgtAsrwQtMuk9SblcaGCT3bia4wPgcZAh2BC5qibcD5Vm8I9M3D26A8rkMTXiaIYqQ/0?&quot;); background-size: cover; background-position: 50% 50%; background-repeat: no-repeat; box-sizing: border-box;" class="__bg_gif" data-order="0"><section style="line-height: 1.6em;"><section></section></section></section></section><section style="margin-top: -20px; margin-bottom: 0em; margin-left: 1.5em; float: left; border-radius: 1em; font-size: 1.2em; font-weight: inherit; text-decoration: inherit; border-bottom: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><span style="margin-left: 5px; padding: 3px 10px 3px 0.7em; float: left; display: inline-block; vertical-align: top; color: rgb(127, 127, 127); font-size: 15px;"><section><strong>从业务模块上看</strong></section></span></section><section style="border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><section style="margin-left: 27px; padding-top: 15px; padding-right: 10px; padding-left: 15px; color: inherit; border-left: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><section class="" style="padding-bottom: 10px; color: inherit; box-sizing: border-box;"><p style="white-space: normal;"><span style="color: rgb(127, 127, 127); font-size: 15px;">应用层，服务层，业务处理层，调度层</span></p></section></section></section></section></section><section class="" data-tools="135编辑器" data-id="88946" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><section><section><section style="display: inline-block; vertical-align: top; height: 1.8em; color: rgba(249, 110, 87, 0); width: 1.8em; border-radius: 50%; border-width: 0px; border-style: solid; border-color: rgb(249, 110, 87); font-size: 1.6em; font-weight: inherit; text-align: center; text-decoration: inherit; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_gif/yqVAqoZvDibGd7hdQicMMTnsdvgtAsrwQtMuk9SblcaGCT3bia4wPgcZAh2BC5qibcD5Vm8I9M3D26A8rkMTXiaIYqQ/0?&quot;); background-size: cover; background-position: 50% 50%; background-repeat: no-repeat; box-sizing: border-box;" class="__bg_gif" data-order="1"><section style="line-height: 1.6em;"><section></section></section></section></section><section style="margin-top: -20px; margin-bottom: 0em; margin-left: 1.5em; float: left; border-radius: 1em; font-size: 1.2em; font-weight: inherit; text-decoration: inherit; border-bottom: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><span style="margin-left: 5px; padding: 3px 10px 3px 0.7em; float: left; display: inline-block; vertical-align: top; color: rgb(127, 127, 127); font-size: 15px;"><section><strong>从功能系统上看</strong></section></span></section><section style="border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><section style="margin-left: 27px; padding-top: 15px; padding-right: 10px; padding-left: 15px; color: inherit; border-left: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><section class="" style="padding-bottom: 10px; color: inherit; box-sizing: border-box;"><p style="white-space: normal;"><span style="color: rgb(127, 127, 127); font-size: 15px;">&nbsp; &nbsp;发现系统，抓取系统，&nbsp;配置系统，监控系统</span></p></section></section></section></section></section><section class="" data-tools="135编辑器" data-id="88946" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><section><section><section style="display: inline-block; vertical-align: top; height: 1.8em; color: rgba(249, 110, 87, 0); width: 1.8em; border-radius: 50%; border-width: 0px; border-style: solid; border-color: rgb(249, 110, 87); font-size: 1.6em; font-weight: inherit; text-align: center; text-decoration: inherit; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_gif/yqVAqoZvDibGd7hdQicMMTnsdvgtAsrwQtMuk9SblcaGCT3bia4wPgcZAh2BC5qibcD5Vm8I9M3D26A8rkMTXiaIYqQ/0?&quot;); background-size: cover; background-position: 50% 50%; background-repeat: no-repeat; box-sizing: border-box;" class="__bg_gif" data-order="2"><section style="line-height: 1.6em;"><section></section></section></section></section><section style="margin-top: -20px; margin-bottom: 0em; margin-left: 1.5em; float: left; border-radius: 1em; font-size: 1.2em; font-weight: inherit; text-decoration: inherit; border-bottom: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><span style="margin-left: 5px; padding: 3px 10px 3px 0.7em; float: left; display: inline-block; vertical-align: top; color: rgb(127, 127, 127); font-size: 15px;"><section><strong>从扩展性上看</strong></section></span></section><section style="border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><section style="margin-left: 27px; padding-top: 15px; padding-right: 10px; padding-left: 15px; color: inherit; border-left: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><section class="" style="padding-bottom: 10px; color: inherit; box-sizing: border-box;"><p style="white-space: normal;"><span style="color: rgb(127, 127, 127); font-size: 15px;">自定义职责链，自定义属性提取</span></p></section></section></section></section></section><section class="" data-tools="135编辑器" data-id="88946" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><section><section><section style="display: inline-block; vertical-align: top; height: 1.8em; color: rgba(249, 110, 87, 0); width: 1.8em; border-radius: 50%; border-width: 0px; border-style: solid; border-color: rgb(249, 110, 87); font-size: 1.6em; font-weight: inherit; text-align: center; text-decoration: inherit; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_gif/yqVAqoZvDibGd7hdQicMMTnsdvgtAsrwQtMuk9SblcaGCT3bia4wPgcZAh2BC5qibcD5Vm8I9M3D26A8rkMTXiaIYqQ/0?&quot;); background-size: cover; background-position: 50% 50%; background-repeat: no-repeat; box-sizing: border-box;" class="__bg_gif" data-order="3"><section style="line-height: 1.6em;"><section></section></section></section></section><section style="margin-top: -20px; margin-bottom: 0em; margin-left: 1.5em; float: left; border-radius: 1em; font-size: 1.2em; font-weight: inherit; text-decoration: inherit; border-bottom: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><span style="margin-left: 5px; padding: 3px 10px 3px 0.7em; float: left; display: inline-block; vertical-align: top; color: rgb(127, 127, 127); font-size: 15px;"><section><strong>从实时性上看</strong></section></span></section><section style="border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><section style="margin-left: 27px; padding-top: 15px; padding-right: 10px; padding-left: 15px; color: inherit; border-left: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><section class="" style="padding-bottom: 10px; color: inherit; box-sizing: border-box;"><p style="white-space: normal;"><span style="color: rgb(127, 127, 127); font-size: 15px;">实时抓取，实时配置生效，实时监控，实时测试</span></p></section></section></section></section></section><section class="" data-tools="135编辑器" data-id="88946" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; "><section><section><section style="display: inline-block; vertical-align: top; height: 1.8em; color: rgba(249, 110, 87, 0); width: 1.8em; border-radius: 50%; border-width: 0px; border-style: solid; border-color: rgb(249, 110, 87); font-size: 1.6em; font-weight: inherit; text-align: center; text-decoration: inherit; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_gif/yqVAqoZvDibGd7hdQicMMTnsdvgtAsrwQtMuk9SblcaGCT3bia4wPgcZAh2BC5qibcD5Vm8I9M3D26A8rkMTXiaIYqQ/0?&quot;); background-size: cover; background-position: 50% 50%; background-repeat: no-repeat; box-sizing: border-box;" class="__bg_gif" data-order="4"><section style="line-height: 1.6em;"><section></section></section></section></section><section style="margin-top: -20px; margin-bottom: 0em; margin-left: 1.5em; float: left; border-radius: 1em; font-size: 1.2em; font-weight: inherit; text-decoration: inherit; border-bottom: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><span style="margin-left: 5px; padding: 3px 10px 3px 0.7em; float: left; display: inline-block; vertical-align: top; color: rgb(127, 127, 127); font-size: 15px;"><section><strong>从系统架构上看</strong></section></span></section><section style="border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><section style="margin-left: 27px; padding-top: 15px; padding-right: 10px; padding-left: 15px; color: inherit; border-left: 1px dotted rgb(0, 0, 0); box-sizing: border-box;"><section class="" style="padding-bottom: 10px; color: inherit; box-sizing: border-box;"><p style="white-space: normal;"><span style="color: rgb(127, 127, 127); font-size: 15px;">&nbsp; &nbsp;分布式架构，服务层主从切换设计，轻量（仅依赖于队列，数据库，java)</span></p></section></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88743" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(77, 92, 166)" data-custom="rgb(77, 92, 166)"><section style=" margin-top: 10px; margin-bottom: 10px; text-align: center;  box-sizing: border-box; "><section style="display: inline-block; vertical-align: middle; padding-right: 6px; padding-left: 6px; box-sizing: border-box;"><section class="" data-brushtype="text" style="border-bottom: 2px solid rgb(77, 92, 166); padding-right: 10px; padding-left: 10px; box-sizing: border-box;"><span style="font-size: 20px;"><strong><span style="color: #7F7F7F;">五&nbsp;&nbsp;图例</span></strong></span></section><section style="margin-top: -4px; box-sizing: border-box;"><section style="float: left; width: 6px; height: 6px; margin-left: -6px; border-radius: 100%; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="float: right; width: 6px; height: 6px; border-radius: 100%; margin-right: -6px; background-color: rgb(77, 92, 166); box-sizing: border-box; color: rgb(255, 255, 255);"></section><section style="clear: both; box-sizing: border-box;"></section></section></section></section></section><p style="white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88734" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(117, 117, 118)" data-custom="rgb(117, 117, 118)"><section style=" text-align:center; transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-ms-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px); "><section style="display: inline-block;"><section style="border-top: 2px solid rgb(117, 117, 118); border-right: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-bottom: none rgb(117, 117, 118); height: 0.8em; border-top-left-radius: 1em; border-top-right-radius: 1em; box-sizing: border-box;"></section><section style="min-width: 2em; margin: -0.5em auto; padding-right: 5px; padding-left: 5px; box-sizing: border-box;"><section class="" data-original-title="" title="">1</section></section><section style="border-right: 2px solid rgb(117, 117, 118); border-bottom: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-top: none rgb(117, 117, 118); height: 0.8em; border-bottom-left-radius: 1em; border-bottom-right-radius: 1em; box-sizing: border-box;"><br></section></section></section></section><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFicQ9yY9icVAMSYYI7YfoBOSd3NkOjcDU953eeHeOGXe2dXCXGEhJaibdPDS58DmJkibvo2ss2Z7Y1YQ/0?" style="width: 749px !important; height: 326px !important;"></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88734" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(117, 117, 118)" data-custom="rgb(117, 117, 118)"><section style=" text-align:center; transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-ms-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px); "><section style="display: inline-block;"><section style="border-top: 2px solid rgb(117, 117, 118); border-right: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-bottom: none rgb(117, 117, 118); height: 0.8em; border-top-left-radius: 1em; border-top-right-radius: 1em; box-sizing: border-box;"></section><section style="min-width: 2em; margin: -0.5em auto; padding-right: 5px; padding-left: 5px; box-sizing: border-box;"><section class="" data-original-title="" title=""><span style="color: #7F7F7F;">2</span></section></section><section style="border-right: 2px solid rgb(117, 117, 118); border-bottom: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-top: none rgb(117, 117, 118); height: 0.8em; border-bottom-left-radius: 1em; border-bottom-right-radius: 1em; box-sizing: border-box;"></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFicQ9yY9icVAMSYYI7YfoBOSGTNzcqkETjt0KyoWdVq0OiaDS2adT6CADtmc8IzhMvMDj43FaibSAXjg/0?" style="width: 487px !important; height: 291px !important;"></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88734" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(117, 117, 118)" data-custom="rgb(117, 117, 118)"><section style=" text-align:center; transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-ms-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px); "><section style="display: inline-block;"><section style="border-top: 2px solid rgb(117, 117, 118); border-right: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-bottom: none rgb(117, 117, 118); height: 0.8em; border-top-left-radius: 1em; border-top-right-radius: 1em; box-sizing: border-box;"></section><section style="min-width: 2em; margin: -0.5em auto; padding-right: 5px; padding-left: 5px; box-sizing: border-box;"><section class="" data-original-title="" title=""><span style="color: #7F7F7F;">3</span></section></section><section style="border-right: 2px solid rgb(117, 117, 118); border-bottom: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-top: none rgb(117, 117, 118); height: 0.8em; border-bottom-left-radius: 1em; border-bottom-right-radius: 1em; box-sizing: border-box;"></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="text-align: center;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWF9XYLEKbaaicPtQrwfJ2oNtXia7l73FkeibxXTCZUju2117sibQfbhTIJVQibDI5PKhEOPRdsd5oy9oFg/0?wx_fmt=jpeg" style="width: 759px !important; height: 446px !important;"></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88734" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(117, 117, 118)" data-custom="rgb(117, 117, 118)"><section style=" text-align:center; transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-ms-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px); "><section style="display: inline-block;"><section style="border-top: 2px solid rgb(117, 117, 118); border-right: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-bottom: none rgb(117, 117, 118); height: 0.8em; border-top-left-radius: 1em; border-top-right-radius: 1em; box-sizing: border-box;"></section><section style="min-width: 2em; margin: -0.5em auto; padding-right: 5px; padding-left: 5px; box-sizing: border-box;"><section class="" data-original-title="" title=""><span style="color: #7F7F7F;">4</span></section></section><section style="border-right: 2px solid rgb(117, 117, 118); border-bottom: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-top: none rgb(117, 117, 118); height: 0.8em; border-bottom-left-radius: 1em; border-bottom-right-radius: 1em; box-sizing: border-box;"></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="text-align: center;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWF9XYLEKbaaicPtQrwfJ2oNttcr07TkJnFz1ncF6ItpBG6icNoWmeQwnqHq0r2FyrNicYBv8jicopHyOg/0?wx_fmt=jpeg" style="width: 625px !important; height: 358px !important;"></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><section class="" data-tools="135编辑器" data-id="88734" style=" border-width: 0px; border-style: none; border-color: initial;  box-sizing: border-box; " data-color="rgb(117, 117, 118)" data-custom="rgb(117, 117, 118)"><section style=" text-align:center; transform: translate3d(1px, 0px, 0px);-webkit-transform: translate3d(1px, 0px, 0px);-moz-transform: translate3d(1px, 0px, 0px);-ms-transform: translate3d(1px, 0px, 0px);-o-transform: translate3d(1px, 0px, 0px); "><section style="display: inline-block;"><section style="border-top: 2px solid rgb(117, 117, 118); border-right: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-bottom: none rgb(117, 117, 118); height: 0.8em; border-top-left-radius: 1em; border-top-right-radius: 1em; box-sizing: border-box;"></section><section style="min-width: 2em; margin: -0.5em auto; padding-right: 5px; padding-left: 5px; box-sizing: border-box;"><section class="" data-original-title="" title=""><span style="color: #7F7F7F;">5</span></section></section><section style="border-right: 2px solid rgb(117, 117, 118); border-bottom: 2px solid rgb(117, 117, 118); border-left: 2px solid rgb(117, 117, 118); margin: auto; border-top: none rgb(117, 117, 118); height: 0.8em; border-bottom-left-radius: 1em; border-bottom-right-radius: 1em; box-sizing: border-box;"></section></section></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFicQ9yY9icVAMSYYI7YfoBOSJxNxhUIALZE91ENliazElUicibgADevLe3c4fCwJUibU8q39yH8ffia7Bcg/0?" style="width: 671px !important; height: 316px !important;"></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="color: rgb(62, 62, 62); font-size: medium; white-space: normal;"><br></p><section data-role="paragraph" class="" data-color="rgb(77, 92, 166)" style="color: rgb(62, 62, 62); white-space: normal; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><section class="" data-tools="135编辑器" data-id="7" data-color="rgb(77, 92, 166)" data-custom="rgb(77, 92, 166)" style="text-align: center; border-width: 0px; border-style: none; border-color: initial; box-sizing: border-box;"><blockquote style="margin-top: 5px; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; border-left-width: 5px; border-left-color: rgb(77, 92, 166); line-height: 25px; color: rgb(102, 102, 102);"><p style="font-size: medium; text-indent: 0em; text-align: left; line-height: 2em;"><strong style="color: rgb(136, 136, 136); font-size: 15px; letter-spacing: 2px; text-indent: 0em;">踏浪无痕 &nbsp;岂安科技高级架构师&nbsp;</strong><br></p><p style="font-size: medium;"><br></p><p style="font-size: medium; line-height: 2em; letter-spacing: 2px; text-indent: 0em; text-align: left;"><span style="color: rgb(136, 136, 136); font-size: 14px;">十余年数据研发经验，擅长数据处理领域工作，如爬虫、搜索引擎、大数据应用高并发等。担任过架构师，研发经理等岗位。曾主导开发过大型爬虫，搜索引擎及大数据广告DMP系统目前负责岂安科技数据平台开发与搭建。</span></p></blockquote></section></section><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><strong><span style="font-size: 15px; color: rgb(136, 136, 136);"></span></strong></p><p style="white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-family: 微软雅黑;"><strong><span style="font-size: 15px; color: rgb(136, 136, 136);">你会感兴趣的内容：</span></strong></span></p><p style="white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="font-size: 15px; color: #888888; font-family: 微软雅黑;"><br></span></p><p style="white-space: normal; line-height: 2em; text-indent: 0em; letter-spacing: 0px;"><span style="font-size: 14px;"><strong><span style="color: rgb(136, 136, 136); font-family: 微软雅黑;">【观点】</span></strong><span style="color: rgb(136, 136, 136); font-family: 微软雅黑;"><a href="http://mp.weixin.qq.com/s?__biz=MzIxNDE4MzA4OQ==&amp;mid=2651025299&amp;idx=1&amp;sn=0bf7a9a591e73bb5337726cb2c391712&amp;chksm=8c5cb24dbb2b3b5b964c757dab0740818273a4477da0e3515552d4d087828df2f5bad80c16b2&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzIxNDE4MzA4OQ==&amp;mid=2651025299&amp;idx=1&amp;sn=0bf7a9a591e73bb5337726cb2c391712&amp;chksm=8c5cb24dbb2b3b5b964c757dab0740818273a4477da0e3515552d4d087828df2f5bad80c16b2&amp;scene=21#wechat_redirect">机器学习自主解决安全威胁离我们还有多远？</a></span></span></p><p style="white-space: normal; line-height: 2em; text-indent: 0em; letter-spacing: 0px;"><span style="color: rgb(136, 136, 136); font-family: 微软雅黑; font-size: 14px;"><br></span></p><p style="white-space: normal; line-height: 2em; text-indent: 0em; letter-spacing: 0px;"><span style="font-size: 14px;"><strong><span style="color: rgb(136, 136, 136); font-family: 微软雅黑;">【招聘】</span></strong><span style="color: rgb(136, 136, 136); font-family: 微软雅黑;"><a href="http://mp.weixin.qq.com/s?__biz=MzIxNDE4MzA4OQ==&amp;mid=2651025259&amp;idx=1&amp;sn=3f8ac34a7709e0b45c0468278087df5c&amp;chksm=8c5cb2b5bb2b3ba3d041a19d8427f0b1a5fd5f3a07e4e7957c8a9bc6a3d8182bdc36ae9839e1&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzIxNDE4MzA4OQ==&amp;mid=2651025259&amp;idx=1&amp;sn=3f8ac34a7709e0b45c0468278087df5c&amp;chksm=8c5cb2b5bb2b3ba3d041a19d8427f0b1a5fd5f3a07e4e7957c8a9bc6a3d8182bdc36ae9839e1&amp;scene=21#wechat_redirect">技术产品销售，我们在找让人眼前一亮的人</a></span></span></p><p style="white-space: normal; line-height: 2em; text-indent: 0em; letter-spacing: 0px;"><span style="color: rgb(136, 136, 136); font-family: 微软雅黑; font-size: 14px;"><br></span></p><p style="white-space: normal; line-height: 2em; text-indent: 0em; letter-spacing: 0px;"><span style="font-size: 14px;"><strong><span style="color: rgb(136, 136, 136); font-family: 微软雅黑;">【干货】</span></strong><span style="color: rgb(136, 136, 136); font-family: 微软雅黑;"><a href="http://mp.weixin.qq.com/s?__biz=MzIxNDE4MzA4OQ==&amp;mid=2651025336&amp;idx=1&amp;sn=07f63aa6f7096a1ba5355251308b2bc8&amp;chksm=8c5cb266bb2b3b7022728089271075cff3f7beddebebe5e878ffee55f03ec9bb72da3d0f3a94&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzIxNDE4MzA4OQ==&amp;mid=2651025336&amp;idx=1&amp;sn=07f63aa6f7096a1ba5355251308b2bc8&amp;chksm=8c5cb266bb2b3b7022728089271075cff3f7beddebebe5e878ffee55f03ec9bb72da3d0f3a94&amp;scene=21#wechat_redirect">Python机器学习工具：Scikit-Learn介绍与实践</a></span></span></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><br></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><img src="http://mmbiz.qpic.cn/mmbiz_jpg/3NqfZwCmTWFT4icDygYibhbtMdsfuq6wamb8MFm5SXnUNOUJHZYic8ZfMbKicKjgWcTrmMMGV49jzTznGQ80jzz1rg/0?" style="width: 770px !important; height: 268.297px !important;"></p><p style="font-size: medium; white-space: normal; text-align: center; line-height: 2em; letter-spacing: 2px; text-indent: 0em;"><span style="color: rgb(255, 104, 39);"><strong><span style="font-size: 14px;">点击阅读原文免费试用</span></strong></span></p></section>
{% endraw  %}

