---
title: 为什么我不赞成在代码中写注释：谈写注释的几种境界
author: Nana 译
date: '2017-04-07 00:00:00 +0000'

---

{% raw  %}
<p><img src="/ArchNotes/images/76ad36577583811de6e11a486dc42f6d47e915fc.png" style="width: 650px !important; height: 421px !important; visibility: visible !important;"></p><p><br></p><p>代码中的注释是有价值的，通常也是必须的，<strong>但没有注释更好。</strong>本文会解释其原因。<br></p><p><br></p><p>我的目标是，当我阅读我编写代码时，应该完全清楚它的作用。<strong>名称，结构，代码背后的意图 - 都需要尽可能的清晰和明显。</strong></p><p><br></p><p>我常常希望通过注释来增加更多的细节以及待改进的描述，我担心将来看代码时候会面临看不懂的困惑，所以注释主要是来帮助将来的我来理解代码。当我怀疑代码不完全清晰时，我会立即添加注释。</p><p><br></p><p>换句话说，<strong>希望写注释，经常表示代码有更好的改进空间。在某些方面，这实际上是一种警告标志。</strong></p><p><br></p><p>这不是说注释是坏的。但是如果代码已经很清楚表达意思，注释就不需要了，这样当然就会更好。而且我们还常常发现注释甚至不符合代码。</p><p><br></p><p><img src="/ArchNotes/images/c9ec33fd512541212b3f4c54a48cffa0cf63e684.png" style="width: 394px !important; height: 271px !important;"></p><p style="text-align: center;"><br></p><p><strong><span style="font-size: 20px;">注释的 4 种境界</span></strong></p><p><br></p><p><strong>1、最差</strong></p><p>-------</p><p>复杂，隐晦的代码，没有任何注释</p><p><br></p><p><strong>2、更好</strong></p><p>-------</p><p>复杂，隐晦的代码与注释</p><p>（大多数现实世界的程序员住在这里）</p><p><br></p><p><strong>3、比更好还更好</strong></p><p>-------</p><p>简单，清晰的代码连同注释。</p><p><br></p><p><strong>4、最好</strong></p><p>-----</p><p>代码如此丰富，注释完全不必要</p><p><br></p><p><span style="font-size: 20px;"><strong>补充：</strong></span></p><p>（ArchNotes小编：估计作者写完此观点后在网上被喷了，又补充了一些永远正确的观点）</p><p><br></p><p>为了澄清我的观点，大家还是应该使用注释，因为我们大多数人属于前三个类别，第四个境界是追求。</p><p><br></p><ol class="list-paddingleft-2" style="list-style-type: decimal;"><li><p>当代码的意图不明显时使用注释。</p></li><li><p>如果执行得到的结果不明显，请使用注释。</p></li><li><p>当调用方法的上下文不明显时使用注释。</p></li></ol><p><br></p><p>注释它不是短小的肮脏的一行文字，上面这样的情况，需要一个描述恰当的<strong>段落</strong>来描述。</p><p><br></p><p>但是，我们的目标应该是改变我们的编程风格，以尽量减少这种需求。代码应尽可能地表明意图。代码应该是清晰透明的。<strong>如果您可以选择改进代码的清晰度，而不是使用一个澄清的注释对其进行修改，那么请先优化代码。</strong><br></p><p><br></p><p><strong><span style="color: rgb(136, 136, 136); font-size: 14px;">参考链接：</span></strong></p><p><span style="color: rgb(136, 136, 136); font-size: 14px;"><br></span></p><ol class="list-paddingleft-2" style="list-style-type: decimal;"><li><p><span style="color: rgb(136, 136, 136); font-size: 14px;">英文版：https://www.quora.com/Are-comments-in-code-a-good-or-bad-thing</span></p></li><li><p><span style="color: rgb(136, 136, 136); font-size: 14px;">图1来源：http://www.sisodia.in/2012/01/real-programmers-don-comment-their-code.html</span></p></li><li><p><span style="color: rgb(136, 136, 136); font-size: 14px;">图2来源：http://www.peopleandbits.info/</span></p></li></ol><p><br></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); text-align: center; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 20px; box-sizing: border-box !important; word-wrap: break-word !important;">推荐阅读</span></strong></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></p><ul class="list-paddingleft-2" style="max-width: 100%; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><li><p><a href="http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&amp;mid=403520625&amp;idx=1&amp;sn=c59f3944760a055ee7b6d1dda4431e0a&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&amp;mid=403520625&amp;idx=1&amp;sn=c59f3944760a055ee7b6d1dda4431e0a&amp;scene=21#wechat_redirect" style="text-decoration: underline; font-size: 14px; color: rgb(0, 82, 255);"><span style="font-size: 14px; color: rgb(0, 82, 255);">关于烂代码的那些事 － 为什么每个团队存在大量烂代码</span></a></p></li><li><p><a href="http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&amp;mid=2653547118&amp;idx=1&amp;sn=733737f71a751feea5c2d2ca5ea3adbe&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&amp;mid=2653547118&amp;idx=1&amp;sn=733737f71a751feea5c2d2ca5ea3adbe&amp;scene=21#wechat_redirect" style="text-decoration: underline; font-size: 14px; color: rgb(0, 82, 255);"><span style="font-size: 14px; color: rgb(0, 82, 255);">完整版：资深程序员都了解的代码复用法则</span></a></p></li><li><p><a href="http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&amp;mid=403710181&amp;idx=1&amp;sn=404848628e673f2517eff0710d38824c&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MzAwMDU1MTE1OQ==&amp;mid=403710181&amp;idx=1&amp;sn=404848628e673f2517eff0710d38824c&amp;scene=21#wechat_redirect" style="text-decoration: underline; font-size: 14px; color: rgb(0, 82, 255);"><span style="font-size: 14px; color: rgb(0, 82, 255);">关于烂代码的那些事 - 评价代码优劣的方法</span></a><br></p></li></ul><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(136, 136, 136); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(136, 136, 136); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">本文最早出现在 Quora, 作者 Glyn Williams, 由 nana 翻译，转载请注明出处，技术原创及架构实践文章，欢迎通过公众号菜单「联系我们」进行投稿。</span><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; color: rgb(136, 136, 136); font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 18px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">高可用架构</strong></span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 18px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">改变互联网的构建方式</strong></span></p><p style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; white-space: normal; line-height: 25.6px; text-align: center; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 18px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"><img src="/ArchNotes/images/f6d330d516dce1ccc8afa78eadcccb86f8851363.jpeg" style="box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: 200px !important; height: 200px !important;"><br style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;"></strong></span><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;">长按二维码 关注「高可用架构」公众号</span></p>
{% endraw  %}

