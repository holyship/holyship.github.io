---
title: chrome63支持动态 import()
author: Rye 译
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1512890585&src=3&ver=1&signature=nJHJ*lkpUmWR2w6oU7bDOsSS-8Q91g9q3gppAf*YzodGa8*kFsjsjxlxjgvUsxhcPuHPudx98CYtGO1llmvZoIAkuoBRHPl0F1Rxgza*EIqX*d53bpfST3rsymdHMIhNQxbU4aetnidAoR7q-NEInaPA3osi5UjP-5JQaGkback=
date: '2017-12-02 00:00:00 +0000'

---

{% raw  %}
<p class="" style="margin: 15px auto;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: normal;word-break: break-word;hyphens: auto;overflow: hidden;text-align: center;font-size: 16px;max-width: 100%;min-height: 1em;color: rgb(62, 62, 62);"><img src="http://mmbiz.qpic.cn/mmbiz_gif/d8tibSEfhMMrjNKjEmoX7KR4FZKdwlrguCicepySoficvu2OMNxXQT0YbHdMcVtVV4P8ZqsqXBnegtw4VibYxhichMQ/0?wx_fmt=gif" style="border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle; box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: 720px !important; height: 100px !important;"></p><p class="" style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;hyphens: auto;max-width: 100%;color: rgb(51, 51, 51);">编者按：本文由Rye在众成翻译平台上翻译。本文作者为<span class="" style="color: rgb(51, 51, 51);">Mathias Bynens，</span><span style="color: rgb(51, 51, 51);">系V8 开发者.</span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);"><strong style="border-width: 0px;border-style: initial;border-color: initial;">Note:</strong> Chrome 63和 <span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">Safari Technology Preview24</span>表示已经支持动态 <span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>加载ES Module。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span></span>提案介绍了一个类似<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>的函数，和静态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>相比，它解锁了一些新的能力，本文将比较这两者，并做出概述。</p><h2 style="margin-top: 22px;margin-bottom: 12px;border-width: 0px 0px 1px;border-top-style: initial;border-right-style: initial;border-bottom-style: solid;border-left-style: initial;border-top-color: initial;border-right-color: initial;border-bottom-color: rgb(25, 128, 230);border-left-color: initial;font-weight: bold;word-break: break-all;word-wrap: break-word;font-size: 20px;color: rgb(25, 128, 230);text-align: center;">Static&nbsp;<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 22px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span></h2><p style="margin-top: 8px;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">早在9月份，Chrome 61就提供了对ES2015 <span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span> 语句的支持，实现<span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">模块加载</span>。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);"><span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">util.mjs</span>代码如下：</p><blockquote class="" style="border-width: 0px;border-style: initial;border-color: initial;padding-left: 0px;color: rgb(51, 51, 51);"><pre class="" style="border-width: 0px;border-style: initial;border-color: initial;padding: 1em;overflow: auto;background-color: rgb(39, 40, 34);color: rgb(248, 248, 242);"><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// Default export</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">export</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">default</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;console<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">log</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'Hi from the default export!'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// Named export `doStuff`</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">export</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;doStuff&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;console<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">log</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'Doing stuff…'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p></pre></blockquote><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">下面的代码通过静态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>使用<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">./util.mjs</span>模块：</p><blockquote class="" style="border-width: 0px;border-style: initial;border-color: initial;padding-left: 0px;color: rgb(51, 51, 51);"><pre class="" style="border-width: 0px;border-style: initial;border-color: initial;padding: 1em;overflow: auto;background-color: rgb(39, 40, 34);color: rgb(248, 248, 242);"><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">`&lt;script type="module"&gt;`</span></span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">import</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">*</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">as</span>&nbsp;module&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">from</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'./utils.mjs'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">default</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// → logs 'Hi from the default export!'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">doStuff</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// → logs 'Doing stuff…'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>script<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p></pre></blockquote><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);"><strong style="border-width: 0px;border-style: initial;border-color: initial;">Note:</strong> 上面的例子使用<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">.mjs</span>扩展符表示这是一个模块而不是普通的脚本。在web上文件扩展名并不重要，只要在HTTP头部<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">Content-Type</span>上加上正确的MIME类型就可以，例如JavaScript 文件的MIME类型是<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">text/javascript</span>。<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">.mjs</span>文件扩展名在像Node这样的平台上<span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">非常有用</span>，Node没有MIME类型的概念，也没有像<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">type=module</span>这样的属性表示它是一个模块而不是普通脚本。我们在这里使用相同的扩展名来保证跨平台的一致性，并明确区分模块和常规脚本。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">这个导入模块的语法形式是一种 <strong style="border-width: 0px;border-style: initial;border-color: initial;">静态</strong> 声明：它只接受一个字符串作为模块标识符，通过预运行时将绑定引入本地作用域的“连接”过程。 静态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>语法只能在文件的顶层使用，它可以开启一些重要功能，如静态分析、捆绑工具和tree-shaking。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">下面这些有用的场景，是用静态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>解决不了的:</p><ul style="" class="list-paddingleft-2"><li><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;">根据需要导入模块（或有条件）</p></li><li><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;">在运行时计算模块标识符</p></li><li><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;">从一个普通的脚本中导入一个模块（而不是从一个模块中导入）</p></li></ul><h2 style="margin-top: 22px;margin-bottom: 12px;border-width: 0px 0px 1px;border-top-style: initial;border-right-style: initial;border-bottom-style: solid;border-left-style: initial;border-top-color: initial;border-right-color: initial;border-bottom-color: rgb(25, 128, 230);border-left-color: initial;font-weight: bold;word-break: break-all;word-wrap: break-word;font-size: 20px;color: rgb(25, 128, 230);text-align: center;">Dynamic&nbsp;<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 22px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>&nbsp;🔥</h2><p style="margin-top: 8px;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span></span>提案介绍了一个类似<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>的函数，<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import(moduleSpecifier)</span> 在获取，实例化并评估所有模块的依赖关系后（包扩这个模块本身），返回这个请求模块的命名空间的Promise对象。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">下面的代码展示了如何通过动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>使用<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">./util.mjs</span>模块：</p><blockquote class="" style="border-width: 0px;border-style: initial;border-color: initial;padding-left: 0px;color: rgb(51, 51, 51);"><pre class="" style="border-width: 0px;border-style: initial;border-color: initial;padding: 1em;overflow: auto;background-color: rgb(39, 40, 34);color: rgb(248, 248, 242);"><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">`&lt;script type="module"&gt;`</span></span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;moduleSpecifier&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'./utils.mjs'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">import</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>moduleSpecifier<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">then</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">default</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// → logs 'Hi from the default export!'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">doStuff</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// → logs 'Doing stuff…'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>script<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p></pre></blockquote><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);"><strong style="border-width: 0px;border-style: initial;border-color: initial;">Note:</strong> 尽管<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>像函数一样调用， 它被指定为恰好使用括号的语法 (例如 <span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;"><span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">super()</span></span>). 这就意味着<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>并没有继承<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">Function.prototype</span>，所以你不能使用<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">call</span>和<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">apply</span>调用它，而且<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">const importAlias = import</span>这样的语句也不会生效，<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>甚至都不是对象，但是这在实践中并不重要。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">下面这个例子，通过动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>在单页应用中实现导航功能的模块懒加载：</p><blockquote class="" style="border-width: 0px;border-style: initial;border-color: initial;padding-left: 0px;color: rgb(51, 51, 51);"><pre class="" style="border-width: 0px;border-style: initial;border-color: initial;padding: 1em;overflow: auto;background-color: rgb(39, 40, 34);color: rgb(248, 248, 242);"><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">!</span>DOCTYPE html<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>meta charset<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"utf-8"</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>title<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>My library<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>title<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>nav<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>a href<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"books.html"</span>&nbsp;data<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>entry<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"books"</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>Books<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>a<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>a href<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"movies.html"</span>&nbsp;data<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>entry<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"movies"</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>Movies<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>a<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>a href<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"video-games.html"</span>&nbsp;data<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>entry<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">"video-games"</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>Video Games<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>a<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>nav<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>main<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>This is a placeholder&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">for</span>&nbsp;the content that will be loaded on<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>demand<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>main<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span>script<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;main&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;document<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">querySelector</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'main'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;links&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;document<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">querySelectorAll</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'nav &gt; a'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">for</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;link&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">of</span>&nbsp;links<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;link<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">addEventListener</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'click'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">async</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>event<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">preventDefault</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">try</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;module&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">await</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">import</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">`/</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">${</span>link<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>dataset<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>entryModule<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">.mjs`</span></span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// The module exports a function named `loadPageInto`.</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">loadPageInto</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>main<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">catch</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">error</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;main<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>textContent&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;error<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>message<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">;</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&lt;</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">/</span>script<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span></p></pre></blockquote><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">如果想运行上面的例子，需要返回正确的MIME类型，在此译者贴上自己的代码。文件结构如下：</p><blockquote class="" style="border-width: 0px;border-style: initial;border-color: initial;padding-left: 0px;color: rgb(51, 51, 51);"><pre class="" style="border-width: 0px;border-style: initial;border-color: initial;padding: 1em;overflow: auto;background-color: rgb(39, 40, 34);color: rgb(248, 248, 242);"><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">├── books<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>mjs</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">├── index<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>html</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">├── mime<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>js</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">├── movies<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>mjs</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">└── video<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">-</span>games<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>mjs</p></pre></blockquote><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">在终端运行<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">node mime.js</span>，然后访问<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">localhost:3000</span>。</p><blockquote class="" style="border-width: 0px;border-style: initial;border-color: initial;padding-left: 0px;color: rgb(51, 51, 51);"><pre class="" style="border-width: 0px;border-style: initial;border-color: initial;padding: 1em;overflow: auto;background-color: rgb(39, 40, 34);color: rgb(248, 248, 242);"><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" spellcheck="true" style="border-width: 0px;border-style: initial;border-color: initial;color: slategray;">// mime.js</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;http&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">require</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'http'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;url&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">require</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'url'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;fs&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">require</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'fs'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;path&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">require</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'path'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">function</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">getMimeType</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;EXT_MIME_TYPES&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">default</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'text/html'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.mjs'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'text/javascript'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.js'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'text/javascript'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.css'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'text/css'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.json'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'text/json'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.jpeg'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'image/jpeg'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.jpg'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'image/jpg'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.png'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'image/png'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">let</span>&nbsp;mime_type&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;EXT_MIME_TYPES<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">[</span>path<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">extname</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">]</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">||</span>&nbsp;EXT_MIME_TYPES<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">[</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'default'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">]</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">return</span>&nbsp;mime_type</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">const</span>&nbsp;server&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;http<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">createServer</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>req<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span>&nbsp;res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">let</span>&nbsp;srvUrl&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;url<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">parse</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">`http://</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">${</span>req<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>url<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">`</span></span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">let</span>&nbsp;path&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;srvUrl<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span>path</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">if</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>path&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">===</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'/'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;path&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'/index.html'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">let</span>&nbsp;resPath&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'.'</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">+</span>&nbsp;path</p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">if</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">!</span>fs<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">existsSync</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>resPath<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">writeHead</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(174, 129, 255);">404</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'Content-Type'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'text/html'</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">return</span>&nbsp;res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">end</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'&lt;h1&gt;404 Not Found&lt;/h1&gt;'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(102, 217, 239);">let</span>&nbsp;resStream&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span>&nbsp;fs<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">createReadStream</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>resPath<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">writeHead</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(174, 129, 255);">200</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'Content-Type'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">:</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">getMimeType</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>resPath<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;resStream<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">pipe</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>res<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">server<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">on</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'clientError'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span>err<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">,</span>&nbsp;socket<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">=</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">&gt;</span>&nbsp;<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">{</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">&nbsp;&nbsp;socket<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">end</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(166, 226, 46);">'HTTP/1.1 400 Bad Request\r\n\r\n'</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;"><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">}</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 0;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;height: 6px;white-space: nowrap !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;"></p><p class="" style="margin-top: 3px;margin-bottom: 3px;border-width: 0px;border-style: initial;border-color: initial;line-height: 16px;word-break: break-word;word-wrap: break-word;hyphens: auto;font-size: 14px;white-space: nowrap !important;">server<span class="" style="border-width: 0px;border-style: initial;border-color: initial;">.</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(230, 219, 116);">listen</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">(</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;color: rgb(174, 129, 255);">3000</span><span class="" style="border-width: 0px;border-style: initial;border-color: initial;">)</span></p></pre></blockquote><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">如果使用得当，动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>启用的懒加载功能可以非常强大。<span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">Addy</span>修改了一个<span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">Hacker News PWA的例子</span>，它在第一次加载时静态地导入了所有的依赖关系，包括注释。<span class="" style="border-width: 0px;border-style: initial;border-color: initial;word-break: break-word;word-wrap: break-word;hyphens: auto;">更新的版本</span>使用动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>来懒加载注释，到用户确实需要它们之前避免加载，解析和编译代码。</p><h2 style="margin-top: 22px;margin-bottom: 12px;border-width: 0px 0px 1px;border-top-style: initial;border-right-style: initial;border-bottom-style: solid;border-left-style: initial;border-top-color: initial;border-right-color: initial;border-bottom-color: rgb(25, 128, 230);border-left-color: initial;font-weight: bold;word-break: break-all;word-wrap: break-word;font-size: 20px;color: rgb(25, 128, 230);text-align: center;">建议</h2><p style="margin-top: 8px;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5;white-space: pre-wrap;word-break: break-word;word-wrap: break-word;hyphens: auto;color: rgb(51, 51, 51);">静态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>和动态<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>都非常有用，都有自己独特的用处。使用静态的<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import</span>来初始绘制依赖关系，特别是对于上面的内容。 在其他情况下，请考虑使用动态的<span class="" style="margin-right: 2px;margin-left: 2px;border-width: 1px;border-style: solid;border-color: rgb(225, 225, 232);padding: 2px 4px;font-size: 14px;font-family: monospace;color: rgb(221, 17, 68);background-color: rgb(247, 247, 249);border-radius: 2px;word-break: break-word;word-wrap: break-word;hyphens: auto;">import()</span>加载依赖关系。</p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;line-height: 1.6;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;"><br style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"></span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;line-height: 1.6;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;"></span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;">奇舞周刊</span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;">———<span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;color: rgb(136, 136, 136);line-height: 25.6px;box-sizing: border-box !important;word-wrap: break-word !important;">————————————</span>———</span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;">领略前端技术 阅读奇舞周刊</span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><br style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: 1.5em;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;font-size: 13px;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;">长按二维码，关注奇舞周刊</span></p><p style="margin-top: 1em;margin-bottom: 1em;border-width: 0px;border-style: initial;border-color: initial;line-height: normal;white-space: pre-wrap;word-break: break-word;hyphens: auto;"><span style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;font-size: 10px;color: rgb(68, 68, 68);box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="border-width: 0px;border-style: initial;border-color: initial;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">▼</strong></span></p><p class="" style="margin: 15px auto;border-width: 0px;border-style: initial;border-color: initial;line-height: 25.6px;white-space: normal;word-break: break-word;hyphens: auto;overflow: hidden;text-align: center;"><img src="http://mmbiz.qpic.cn/mmbiz/d8tibSEfhMMpC84jhdw7cmZFzrDoG5IsHcpRcls0Ahx6PhRMAicM1gc2ZmG68Tb8t3cyaia5lFicoY8kWXWibCb609A/640?wx_fmt=jpeg" style="border-width: 0px; border-style: initial; border-color: initial; vertical-align: middle; box-sizing: border-box !important; word-wrap: break-word !important; visibility: visible !important; width: 200px !important; height: 200px !important;"></p><p><br></p><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1512890585&src=3&ver=1&signature=nJHJ*lkpUmWR2w6oU7bDOsSS-8Q91g9q3gppAf*YzodGa8*kFsjsjxlxjgvUsxhcPuHPudx98CYtGO1llmvZoIAkuoBRHPl0F1Rxgza*EIqX*d53bpfST3rsymdHMIhNQxbU4aetnidAoR7q-NEInaPA3osi5UjP-5JQaGkback=">微信地址</a> | <a href="http://zcfy.cc/article/dynamic-import-4641.html?t=new">阅读原文</a>
{% endraw  %}

