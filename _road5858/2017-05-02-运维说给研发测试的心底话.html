---
title: 运维说给研发测试的心底话
author: 58沈剑
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1493790798&src=3&ver=1&signature=bFz6ydo70BQetHhwrU93hrzuvK-USG3cXa5VXeSxj8OyQX1ZBw*0eoHVdK95qi8Kn*CQa5sZIWzR0UGyJPhI*EouXMrhXRQ*sA4*Prpf2Sh2pCd33Z3weZB1LC4CgWJnGeQ6alLDsol8MqvzUXtHzzXlYzGMhTYaw88eX1I7jyM=
date: '2017-05-02 00:00:00 +0000'

---

{% raw  %}
<p><span style="font-size: 14px;">互联网，讲究快速迭代，快速上线，敏捷开发。</span></p><p><span style="font-size: 14px;"><br></span></p><p><span style="font-size: 14px;">有些<strong>固定上线时间</strong>的项目，可能因为技术方案变化，导致测试时间压缩，最终导致上线出问题，而由运维来背锅。</span></p><p><br></p><p><span style="font-size: 14px;">为保住KPI，运维有很多心里话想和研发测试说一说：</span></p><p><span style="font-size: 14px;"><br></span></p><p><span style="font-size: 14px;">（1）“<strong>敏捷开发，频繁交付</strong>”的KPI，真不是增加运维人手就能解决的，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">自动化回归</span>的支持，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">自动化上线</span>的支持</span></p><p><br></p><p><span style="font-size: 14px;">（2）“<strong>上线失败，快速回滚</strong>”的KPI，真不是增加运维人手就能解决的，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">回滚方案</span>的支持，而<span style="font-size: 14px; color: rgb(255, 104, 39);">回滚方案真的测试</span>过么</span></p><p><br></p><p><span style="font-size: 14px;">（3）“<strong>快速扩容，快速响应</strong>”的KPI，真不是增加运维人手就能解决的，需要架构设计的支持（很多系统无法<span style="font-size: 14px; color: rgb(255, 104, 39);">水平扩展</span>，来了机器，无法扩容），需要<span style="font-size: 14px; color: rgb(255, 104, 39);">快速部署</span>的支持，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">服务发现</span>的支持（所有上游修改配置重启肯定是不行的），需要<span style="font-size: 14px; color: rgb(255, 104, 39);">压力测试和容量评估</span>的支持</span></p><p><br></p><p><span style="font-size: 14px;">（4）“<strong>系统高可用</strong>”的KPI，真不是增加运维人手就能解决的，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">优雅降级</span>的支持，需要架构设计的支持，如何评判系统是否<span style="font-size: 14px; color: rgb(255, 104, 39);">高可用</span>？这个简单，关掉线上任何一台机器试试，看用户服务是否受影响，如果受影响，研发哥哥们拜托了</span></p><p><br></p><p><span style="font-size: 14px;">（5）“<strong>快速故障报警</strong>”的KPI，真不是增加运维人手就能解决的，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">监控系统</span>的支持（操作系统和运维层面的监控，我们可以实施，但错误日志、接口、业务的监控呢？），另外报警短信能少一点么，过度报警会让人变得“麻木不仁”的</span></p><p><br></p><p><span style="font-size: 14px;">（6）“<strong>快速故障定位</strong>”的KPI，真不是增加运维人手就能解决的，需要数据<span style="font-size: 14px; color: rgb(255, 104, 39);">量化健康信息</span>的支持（58到家的守望者平台做的还是不错的），需要<span style="font-size: 14px; color: rgb(255, 104, 39);">快速诊断</span>的支持（58到家的调用链跟踪系统做的还是不错的）</span></p><p><br></p><p><span style="font-size: 14px;">（7）“<strong>快速故障恢复</strong>”的KPI，真不是增加运维人手就能解决的，需要<span style="font-size: 14px; color: rgb(255, 104, 39);">故障转移</span>的支持，相信我们，故障发生时，如果运维人员不知道怎么抉择，且又必须做出抉择，这时的抉择往往是错的（我们能做的，是重启），我们也不想凌晨打给你们，但希望你们能实现<span style="font-size: 14px; color: rgb(255, 104, 39);">自动化</span>方案</span></p><p><br></p><p><span style="font-size: 14px;">（8）“<strong>内审合规</strong>”的KPI，真不是增加运维人手就能解决的，在资源允许的情况下，请<span style="font-size: 14px; color: rgb(255, 104, 39);">不要手动删除任何资源</span>，数据是很重要的资源。<span style="font-size: 14px; color: rgb(255, 104, 39);">访问控制</span>和<span style="font-size: 14px; color: rgb(255, 104, 39);">权限申请</span>的流程，真的不是限制大家，相反，哪一次数据的误删除，不是我们加班来恢复的？宝宝心里苦呀</span></p><p><br></p><p><span style="font-size: 14px;">我们的KPI都掌握在大家的手里，技术一家人，希望研发测试的同学理解。</span></p><p><br></p><p><span style="font-size: 14px;">大家还有什么<span style="font-size: 14px; color: rgb(255, 104, 39);">苦水</span>？一起说一说。</span></p><p><span style="font-size: 14px;"><br></span></p><p><span style="font-size: 14px;">这个问题，大家也自己问一问，<span style="font-size: 14px; color: rgb(255, 104, 39);">关掉线上任何一台机器，用户服务受影响么？</span></span></p><p><span style="font-size: 14px;">==【完】==</span></p><p><span style="font-size: 14px; line-height: 22.4px;">相关推荐：</span></p><p><span style="font-size: 14px; line-height: 22.4px;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651960049&amp;idx=1&amp;sn=2787e73be4ea31f52213a2b934a16e09&amp;chksm=bd2d072d8a5a8e3b71cef58f313743a6db6f83889748deb7f8f866817511df98adc5e03db39c&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651960049&amp;idx=1&amp;sn=2787e73be4ea31f52213a2b934a16e09&amp;chksm=bd2d072d8a5a8e3b71cef58f313743a6db6f83889748deb7f8f866817511df98adc5e03db39c&amp;scene=21#wechat_redirect">换IP的是你，凭啥重启的却是我？</a><br></span></p><p><span style="font-size: 14px; line-height: 22.4px;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959906&amp;idx=1&amp;sn=2cbdc66cfb5b53cf4327a1e0d18d9b4a&amp;chksm=bd2d07be8a5a8ea86dc3c04eced3f411ee5ec207f73d317245e1fefea1628feb037ad71531bc&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959906&amp;idx=1&amp;sn=2cbdc66cfb5b53cf4327a1e0d18d9b4a&amp;chksm=bd2d07be8a5a8ea86dc3c04eced3f411ee5ec207f73d317245e1fefea1628feb037ad71531bc&amp;scene=21#wechat_redirect">58到家数据库30条军规解读</a><br></span></p><p><span style="font-size: 14px; line-height: 22.4px;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959910&amp;idx=1&amp;sn=6b6853b70dbbe6d689a12a4a60b84d8b&amp;chksm=bd2d07ba8a5a8eac6783bac951dba345d865d875538755fe665a5daaf142efe670e2c02b7c71&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959910&amp;idx=1&amp;sn=6b6853b70dbbe6d689a12a4a60b84d8b&amp;chksm=bd2d07ba8a5a8eac6783bac951dba345d865d875538755fe665a5daaf142efe670e2c02b7c71&amp;scene=21#wechat_redirect">再议数据库军规</a><br></span></p><p><span style="font-size: 14px; line-height: 22.4px;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959694&amp;idx=1&amp;sn=4ac53b797fca64229901373e793f860a&amp;chksm=bd2d04528a5a8d44618333de549094569f9ec58833ab64d081bc826b9361f587aca2972fc4c6&amp;scene=21#wechat_redirect" target="_blank" data_ue_src="http://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959694&amp;idx=1&amp;sn=4ac53b797fca64229901373e793f860a&amp;chksm=bd2d04528a5a8d44618333de549094569f9ec58833ab64d081bc826b9361f587aca2972fc4c6&amp;scene=21#wechat_redirect">即使删了全库，保证半小时恢复</a><br></span></p><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1493790798&src=3&ver=1&signature=bFz6ydo70BQetHhwrU93hrzuvK-USG3cXa5VXeSxj8OyQX1ZBw*0eoHVdK95qi8Kn*CQa5sZIWzR0UGyJPhI*EouXMrhXRQ*sA4*Prpf2Sh2pCd33Z3weZB1LC4CgWJnGeQ6alLDsol8MqvzUXtHzzXlYzGMhTYaw88eX1I7jyM=">微信地址</a> | <a href="https://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&amp;mid=2651959906&amp;idx=1&amp;sn=2cbdc66cfb5b53cf4327a1e0d18d9b4a&amp;chksm=bd2d07be8a5a8ea86dc3c04eced3f411ee5ec207f73d317245e1fefea1628feb037ad71531bc#rd">阅读原文</a>
{% endraw  %}

