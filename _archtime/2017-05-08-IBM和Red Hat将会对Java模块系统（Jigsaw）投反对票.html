---
title: IBM和Red Hat将会对Java模块系统（Jigsaw）投反对票
author: Charles Humble
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1494425835&src=3&ver=1&signature=T3pUTKCUVTFXYE3cOj0PN5Pj7cnItpQYG26NZRn7R08Pw-hMmu8uxt9*QadJbd-YkoIvkgOWnOHggXxfr3M*Lu5GHsFvjZpAbb6dgNXGvg7o3E1TgZNmeF9QUbqWiYs78pmNnculhhoCDFXhgiI3gddyoXL20eET01tQpBrIv40=
date: '2017-05-08 00:00:00 +0000'

---

{% raw  %}
<section style="color: rgb(63, 63, 63); font-size: 14px; font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif; text-align: center; box-sizing: border-box;"><section class="" style="box-sizing: border-box; text-align: left;">
		<img src="/archtime/images/1715b9a8a4ef140a09214a08d9b1a936cedaef43.jpeg" style="border-radius: 4px; margin-bottom: 25px; width: 770px !important; height: 515.387px !important; visibility: visible !important;">
	</section><section class="" style="box-sizing: border-box; color: rgb(145, 145, 145); text-align: left; line-height: 1em; margin-top: 13px; padding-left: 14px;">
		作者｜Charles Humble	</section><section class="" style="box-sizing: border-box; color: rgb(145, 145, 145); text-align: left; line-height: 1em; margin-top: 13px; padding-left: 14px;">
		编辑｜张卫滨	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">InfoQ 之前曾经报道过 JSR 376（Java 平台模块系统）的开发现状，它通常被称为“Jigsaw 项目”。现在，有一件不太寻常事情，IBM 和 Red Hat 都公开表示，将会对 Jigsaw 目前的状态投反对票。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">这个项目试图为 Java 提供一个标准化的模块系统，它最初的计划是在 Java 7 中实现，在 Mark Reinhold 宣布 B 计划之后，转移到了 Java 8 中。2012 年 7 月，Oracle 再一次推迟了这个项目，将其转移到了 Java 9 中。即便如此，这个项目依然再次延期，这主要是因为 Jigsaw 的复杂性而且它需要进行广泛的测试。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">Jigsaw 的范围是非常广泛的，它不仅想要模块化庞大的 Java 运行时，还想强制进行强封装，这样的话 Java 代码只能通过公开的接口去访问平台库。模块化的代码不能随心所欲地进入另外一个模块的内部。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">不仅如此，Oracle 希望模块系统不仅用在 JDK 本身中，还要用在应用程序的代码中。为了实现这一点，JSR 376 专家组（Expert Group，EG）曾经讨论过应用级别模块化与 JDK 模块化的各个方面。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">除了标准流程之外，目前已经有两个主要的模块实现，它们与 Jigsaw 的范围有些重叠，这两个方案就是 JBoss Modules 和 OSGi，前者来自 Red Hat，而后者由一个厂商所组成的联盟来管理，这些厂商中包含 IBM。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">Red Hat 和 IBM 都是 Java Community Process 执行委员会的成员，这个委员会有 25 个成员，它们要负责批准所有的 Java 新标准，包括“平台释放版本”要包含哪些的内容，比如 Java 的主版本。这样的释放版本必须要取得三分之二席位的支持。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">来自 IBM 的 Tim Ellison 在 OpenJDK 邮件列表中宣布了他们的决定，他这样评论到：</p><blockquote style="padding-left: 0px; border-left: none; box-sizing: border-box; font-size: 15px;"><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; margin-top: 27px; padding-right: 20px; padding-left: 20px; color: rgb(91, 172, 235);">IBM 也会投反对票，这反应了我们对这个 JSR 的态度，我们认为眼下它还没有超出 Public Review 阶段的要求，并不适合继续推进到 Proposed Final Draft 阶段。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; margin-top: 27px; padding-right: 20px; padding-left: 20px; color: rgb(91, 172, 235);">JSR 376 专家组和公众已经针对规范当前的 public review 草案提出了很多合理的问题和关切，这些问题应该进行进一步的讨论并得到妥善解决。我们倡导专家组的所有成员继续协同工作，解决邮件列表中所记录的问题。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; margin-top: 27px; padding-right: 20px; padding-left: 20px; color: rgb(91, 172, 235);">在将规范推至下一阶段之前，IBM 希望在整个专家组中形成更紧密的共识。</p><span style="display: block; clear: both;"></span></blockquote><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">Ellison 的表态似乎是对一个私下交流的回应，这个交流是在 Ellison、Mark Reinhold 和 Scott Stark（Red Hat）之间进行的，Stark 是这样评论的：</p><blockquote style="padding-left: 0px; border-left: none; box-sizing: border-box; font-size: 15px;"><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; margin-top: 27px; padding-right: 20px; padding-left: 20px; color: rgb(91, 172, 235);">目前，Red Hat 将不会投票批准 JPMS 的 public review 草案，因为它并不能实现 Java 社区的最佳利益。</p><span style="display: block; clear: both;"></span></blockquote><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">有个问题在于 IBM 和 Red Hat 所提供的已有的模块系统很难与 Jigsaw 便捷地进行互操作。不过，这两个系统都没有在市场上占据支配性的地位，尽管被影响者会比较痛苦，但是大多数的 Java 项目并不会受到这种不兼容性的影响。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">但是，Jigsaw 的问题并不局限于 OSGi 和 JBoss modules。在 Java 世界中，主流的代码打包和分发系统是 Maven，Jigsaw 并没有为基于 Maven 的项目提供一个清晰的升级路径，Maven 会将代码打包到 JAR 文件中，Jigsaw 并没有提供将其打包到模块中的升级途径。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">这种关切在一篇联合文档中进行了详细描述，这篇文档是由 Red Hat 和外部的 Maven 专家共同编写的。Maven 的核心关注点是所谓的“自动化模块（Automatic Modules）”，对社区中的很多人来说，Maven 所关注的情况要比与各厂商的模块系统间的兼容性问题要严重得多。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">Martijn Verburg 是伦敦 Java 社区的领导者（同时也是 JCP 执行委员的投票成员），他这样告诉 InfoQ：</p><blockquote style="padding-left: 0px; border-left: none; box-sizing: border-box; font-size: 15px;"><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; margin-top: 27px; padding-right: 20px; padding-left: 20px; color: rgb(91, 172, 235);">作为 EC 成员，这么早就阐明其投票立场并且采用如此公开的方式，实在有些不同寻常。这表明，在 Java 生态系统中，主要的参与者对 JPMS 和 Jigsaw 这一实际实现有着很严重的担忧。尽管目前的模块规范和实现为 Java 带来了许多重要的安全和简洁（compact）运行时提升，但是它（还）没有弥合与其他通用模块系统的鸿沟，也没有处理好它们所依赖的构建工具，无论正确与否，Java 平台恐怕会经历 Python2/3 这样的分裂。</p><span style="display: block; clear: both;"></span></blockquote><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">在 Java 新版本的开发周期中，临近结束时，出现如此明显的分歧甚至敌视是前所未有的。尽管这只是一个 Public Review 投票，而不是最终批准投票，但这是一个明确的警告信号。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">如果考虑到其他厂商和社区的观点，Oracle 对 Java 9 的交付时间点似乎会出现冲突。到底 Oracle 会改变方向（这样的话，有可能会造成 Java 9 的再次延期）还是坚持自己的观点（即便主要的厂商和社区参与者有反对意见），尚有待继续观察。</p><section class="" style="box-sizing: border-box; padding-top: 19px;">
		<h5 style="height: 51px; line-height: 52px; font-size: 18px; margin-top: 38px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0LicxNibqfqIpGpzibUdqtJZ0MNhBIJypuxEmticNiabFeibNZWl7rlD8OPpeH3Pb1e7QPKCF5dia1RxOvw/0?wx_fmt=png&quot;); background-position: center center; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial;"><span style="display: inline-block; height: 51px; width: 37%; float: left; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0LicxNibqfqIpGpzibUdqtJZ06g25K95Hmg47qE3XBWMkbexsOllAjrHcL6MWXCSicTiav0eDghicCcHrw/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100%;"></span>今日荐文<span style="display: inline-block; height: 51px; width: 37%; float: right; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0LicxNibqfqIpGpzibUdqtJZ0pXqckt7furia2fwALHU9W1UUytDWx3fWagfTHV290lQvNa3lYYnDMZQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100%;"></span></h5>
		<p style="box-sizing: border-box; white-space: pre-line; line-height: 27px; font-size: 15px; color: rgb(200, 199, 199); padding-top: 28px; padding-bottom: 28px;">点击下方图片即可阅读</p>
		
		
		
		
		
		
				<a href="https://mp.weixin.qq.com/s?__biz=MzA5Nzc4OTA1Mw==&amp;mid=2659599230&amp;idx=1&amp;sn=cbf97ea56f956e23b3529ea81551b23c&amp;chksm=8be9966cbc9e1f7af97f670f4dcc16e3a2bd410ef634251e72c867bc6f7aca813ffed5da75a1#rd" style="color: #5BACEB;">
			<img src="/archtime/images/5d99e8fbde6784745eeca03fd15c97cabba27a87.jpeg" style="color: inherit; float: left; width: 770px !important; height: 559.533px !important;">
		</a>
		<section class="" style="text-align: left; width: 100%; margin-top: -3em; margin-bottom: 29px; float: left; box-sizing: border-box; background-color: rgba(13, 14, 28, 0.8); max-width: 640px;">
			<section style="text-align: center; color: inherit; box-sizing: border-box;">
				<p style="font-size: 16px; line-height: 27px; text-align: left; color: rgb(255, 255, 255); box-sizing: border-box; white-space: normal; padding-top: 8px; padding-bottom: 8px; padding-left: 13px;"><span style="display: inline-block; width: 22px; height: 18px; background: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0LicxNibqfqIpGpzibUdqtJZ05vANVBRK8XZB9fxfI3WwZXoicJoJGrtApPYE40FEiawa1Cxibl1rreo5Q/0?wx_fmt=png&quot;) center center / 100% 100% no-repeat; vertical-align: middle; margin-right: 8px;"></span>
					企业的应用架构到底该怎么演变才能合了 CEO 的愿？				</p>
			</section>
		</section>
		<hr style="width: 100%; height: 1px; border-top-style: dotted; border-top-color: rgb(165, 165, 165);">
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">今年，架构师关注的技术点有何不同？从云计算、大数据、微服务、容器，到现在的人工智能，架构师应该怎么做？这里推荐一场会议，为你总结了 100+ 国内外技术专家现阶段的架构实践，8 折即将截止，点击<span class="" style="text-align: left; color: rgb(91, 172, 235);">“阅读原文”</span>，看看对你有何启发。</p><section class="" style="box-sizing: border-box; width: 100%; text-align: left;">
		
		<img src="/archtime/images/a0fc0f9f33f9ad0ffbaa475a14d98e9b72bfdf42.jpeg" style="padding-right: 8px; padding-left: 8px; margin-top: 28px; margin-right: auto; margin-left: auto; width: 770px !important; height: 418.889px !important;"></section></section><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1494425835&src=3&ver=1&signature=T3pUTKCUVTFXYE3cOj0PN5Pj7cnItpQYG26NZRn7R08Pw-hMmu8uxt9*QadJbd-YkoIvkgOWnOHggXxfr3M*Lu5GHsFvjZpAbb6dgNXGvg7o3E1TgZNmeF9QUbqWiYs78pmNnculhhoCDFXhgiI3gddyoXL20eET01tQpBrIv40=">微信地址</a> | <a href="http://sz2017.archsummit.com/tracks?utm_source=wechat&amp;utm_medium=archtime&amp;utm_campaign=textads8">阅读原文</a>
{% endraw  %}

