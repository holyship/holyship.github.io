---
title: 如何解决数据一致性、任务调度、流水号生成等问题？
author: 马宏亮
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1499131498&src=3&ver=1&signature=iU4hCwtQzyv2pey6SDTnZyD0cxC72kjOFT8vUyUEOpFJb2Y5*kY8UdH7beYSm2Jrf1Et2CrM3rlOqazmVUHy-uHP72hPtx*5TmV6r74vR8Fap4b2zocetAxKAoYYCen-mk0HeaeMyrb3Ko8zuXe*48iGGmh-6S3H2kF7MIGPczc=
date: '2017-06-28 00:00:00 +0000'

---

{% raw  %}
<section style="color: rgb(63, 63, 63); font-size: 14px; font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif; text-align: center; box-sizing: border-box;"><section class="" style="box-sizing: border-box; text-align: left;">
		<img src="http://mmbiz.qpic.cn/mmbiz_jpg/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MoKlsNGjz3o1rxoyE4IJ4oXXWvQk5B67fhzcu3bNURqrk9Lcvmta8ow/0?wx_fmt=jpeg" style="border-radius: 4px; margin-bottom: 25px; width: 770px !important; height: 512.531px !important; visibility: visible !important;">
	</section><section class="" style="box-sizing: border-box; color: rgb(145, 145, 145); text-align: left; line-height: 1em; margin-top: 13px; padding-left: 14px;">
		作者｜马宏亮	</section><section class="" style="box-sizing: border-box; color: rgb(145, 145, 145); text-align: left; line-height: 1em; margin-top: 13px; padding-left: 14px;">
		编辑｜郭蕾	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">互联网金融是最近几年的长期风口，它经历了野蛮生长期，目前处于强监管期，2016 年 8 月 24 日出台的《网络借贷信息中介机构业务活动管理暂行办法》中明确要求“网络借贷信息中介机构应当实行自身资金与出借人和借款人资金的隔离管理，并选择符合条件的银行业金融机构作为出借人与借款人的资金存管机构。”</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">截至 2017 年 5 月 17 日，正常运营平台共有 396 家正常运营平台宣布与银行签订直接存管协议，约占同期 P2P 网贷行业正常运营平台总数量的 17.89%，其中有 209 家正常运营平台与银行完成直接存管系统对接并上线，占 P2P 网贷行业正常运营平台总数量的 9.44%。这就意味着 2017 年 8 月份之后，可能 80% 多的 p2p 平台（约 2000 家平台）都要面临淘汰或者整改。因为，除了对平台的体量规模有要求，还对平台的技术实力也是一次大考验。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">首先人人聚财平台采取的是直接存管形式，直接存管才是真正符合《暂行办法》要求的银行资金存管的方式，在这种模式下，客户的资金不在平台流转，能够有效隔离平台与投资人的资金，平台全程无法触碰资金，杜绝了资金池的产生。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">人人聚财于 2016 年 10 月底上线银行存管系统，已稳定运行 8 个多月，每天处理异步消息 200 万条，峰值 400 万条，人人聚财的技术架构经过了 1.0 版本的所谓的巨石（Monolith）系统，发展到了 2.0 版的分布式版本，整体技术架构如下图所示：</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MpDojFYK9j1AtymyVaEEVloImNtAiaVMlWBauDTWE2vQT05iakI60GnKA/0?wx_fmt=png" style="width: 754px !important; height: 436.71px !important;"></p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">在此架构下，我们来看看，实现银行存管的过程中有哪些关键点。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MV12m8BicIhtnRFrENEG6yialQO3YSRY857RlGGSmHicztaVFaBMM2OKjw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">数据一致性如何解决</span>
	</section><section class="" style="box-sizing: border-box; font-size: 16px; text-align: left; margin-top: 30px; margin-left: 8px; color: rgb(60, 112, 198);"><span style="display: inline-block; width: 15px; height: 15px; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36Mrffl8icmlcdAu2fD1tLboBfCarQjcia1JofxdHtZ09Vbs5O1vXmWWAaQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100% 100%; margin-right: 10px;"></span>
		订单化机制	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">平台每天都与银行有着非常频繁的交互，如何保证平台与银行之间的数据一致呢？这个问题本质上是属于分布式事务的问题，业界一般的解思想方案有：2PC（两阶段提交）、TCC（Try/Confirm/Cancel）、事务消息等等，这些方案优缺点本文不作涉及，我们来看看人人聚财是如何应对这一问题的。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">我们知道，分布式应用具有 CAP 特性，一般来讲，不论电商，类电商，还是社交应用，都会适当牺牲 C，保证最终一致 （Eventually Consistency）和 AP，我们的做法是平台与银行的所有接口进行交互均采用订单化机制。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">我们把每一个与银行的操作交互抽象为一个订单，订单化机制就是指交互开始的时候平台插入 N（N&gt;=1）个订单， 这 N 个订单根据业务的不同可能是一个父的订单，也可能是父子模式的订单，每当接口或业务完成的时候就更新对应的订单的业务状态。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">当交互期间因网络或其他原因导致掉单时，平台的补单机制可以及时根据当前订单的业务状态来判断接下来应该从哪里开始补单。比如说在给用户账户进行返现时由于网络原因导致超时了，那么补单机制会先去银行查询该订单的状态，根据业务处理状态来进行下一步操作；若由于银行系统异常处理失败了，那么补单机制会自动更换流水号重新发起请求，整个交互过程如下图所示：</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36Mz6NSJkav4ic1l5QIrx0rCAXEwH3NxFuKkGZ8U1UTg9rFCntJNWpS36A/0?wx_fmt=png" style="width: 754px !important; height: 480.294px !important;"></p><section class="" style="box-sizing: border-box; font-size: 16px; text-align: left; margin-top: 30px; margin-left: 8px; color: rgb(60, 112, 198);"><span style="display: inline-block; width: 15px; height: 15px; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36Mrffl8icmlcdAu2fD1tLboBfCarQjcia1JofxdHtZ09Vbs5O1vXmWWAaQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100% 100%; margin-right: 10px;"></span>
		定时数据核对	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">平台每天晚上固定时间点会主动核对平台用户账户的可用余额、冻结金额等数据，并与银行的用户账户数据进行比对，对于有异常数据会及时通知到相关责任人进行排查。</p><section class="" style="box-sizing: border-box; font-size: 16px; text-align: left; margin-top: 30px; margin-left: 8px; color: rgb(60, 112, 198);"><span style="display: inline-block; width: 15px; height: 15px; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36Mrffl8icmlcdAu2fD1tLboBfCarQjcia1JofxdHtZ09Vbs5O1vXmWWAaQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100% 100%; margin-right: 10px;"></span>
		对账	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">对于涉及到资金交互的系统，对账是必不可少的。平台每天固定时间点会主动去银行获取前一天的对账文件，与平台数据进行核对。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MV12m8BicIhtnRFrENEG6yialQO3YSRY857RlGGSmHicztaVFaBMM2OKjw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">流水号如何生成？</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">在与银行的交互过程中，必须使用一个唯一的流水号来标识一次请求操作，不然业务操作会乱作一团，在对比了一些优秀的唯一 ID 生成算法后，最终选择使用 Twitter 的 Snowflake 算法来为我们提供银行存管中的流水号服务。此算法的好处有两点：一是纯数字，二是整体上来说是按时间顺序的。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">原理不作过多介绍，网络上的文章也很多，算法原版是 Scala 写的，网上也有 Java 版本，但是有 bug，会产生重复的 ID，无法用于生产环境的集群部署，我对其进行了修改，修改后，可用于生产环境，已稳定运行 8 个月，下面是完整核心代码：</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">https://gist.github.com/xishuixixia/f0f8684805d0504289b7a40f3b327dd6</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">需要注意的是，集群机器需关闭 NTP 的时间同步功能，至于原因，留给读者，看上面代码便知。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MV12m8BicIhtnRFrENEG6yialQO3YSRY857RlGGSmHicztaVFaBMM2OKjw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">任务调度平台如何落地？</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">在金融行业中，一定会存在大量定时任务，即在一个特定的时间点，系统执行指定的一个或多个业务逻辑，诸如跑批，对账等等。</p><section class="" style="box-sizing: border-box; font-size: 16px; text-align: left; margin-top: 30px; margin-left: 8px; color: rgb(60, 112, 198);"><span style="display: inline-block; width: 15px; height: 15px; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36Mrffl8icmlcdAu2fD1tLboBfCarQjcia1JofxdHtZ09Vbs5O1vXmWWAaQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100% 100%; margin-right: 10px;"></span>
		为什么要用任务调度平台	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">业界优秀的调度框架当属 Quartz，比较成熟，但是它有一个不足，就是任务的执行和调度严重耦合，代码里面有很多硬编码，很容易出 bug，因此构建一个任务调度平台就显得很有必要。</p><section class="" style="box-sizing: border-box; font-size: 16px; text-align: left; margin-top: 30px; margin-left: 8px; color: rgb(60, 112, 198);"><span style="display: inline-block; width: 15px; height: 15px; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36Mrffl8icmlcdAu2fD1tLboBfCarQjcia1JofxdHtZ09Vbs5O1vXmWWAaQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100% 100%; margin-right: 10px;"></span>
		怎样搭建任务调度平台	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">指导原则是轻量化，不需要太重，我们在 Quartz 的基础上，将任务调度行为抽象形成“调度中心”公共平台，而平台自身并不承担业务逻辑，“调度中心”按照调度配置发出调度请求。“调度”应用和“任务执行”应用之间用 HTTP 协议进行通讯，因此，“调度”和“任务执行”两部分相互解耦，提高系统整体稳定性和扩展性；即使某个任务执行模块宕机也不会影响其它业务。整体架构如下图所示：</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MmTNEzJF3ibmwdjs0VFnxn0FSoI367Sk8x2JTXwx3ovReNqPyDPOsL8g/0?wx_fmt=png" style="width: 754px !important; height: 278.065px !important;"></p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">我们业务模块只需要提供“任务执行”接口，任意部署到一台机器上，然后调度任务平台配置调用业务接口的基本 Meta 信息（如调用地址端口，bean 名字，监控报警邮件地址）即可。需要注意的是，我们在开发“任务执行”接口必须保证四个特性：</p><ol style="margin-top: 10px; line-height: 1em; text-align: left;" class="list-paddingleft-2"><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">可重复执行：即幂等性, 数学表示为:f(f(x))=f(x), 在此处是指调度模块执行多次，不会影响业务本身逻辑。</p></li><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">可延迟执行：如果调度任务在指定的时间没有调度。可以通过手动执行来弥补。业务执行结果和指定时间执行的结果一致。</p></li><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">可并发执行：如果调度任务同时调用 A B 两台业务服务（处理相同业务）。这个时候需要我们业务需要保证事务一致性。</p></li><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">可暂停、可恢复执行：随时可以暂停正在执行的任务，也可以恢复继续执行。</p></li></ol><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">当然业界也有一些比较优秀的任务调度系统，在此不作对比。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MV12m8BicIhtnRFrENEG6yialQO3YSRY857RlGGSmHicztaVFaBMM2OKjw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">如何提升性能</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">下面以定投宝（人人聚财平台专有的一款智能投顾产品，以下简称定投宝）债权转让业务为例来具体说明。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">平台每天都有一部分定投宝产品到期，需要将本金和利息返还给用户。在用户购买了平台的定投宝产品且定投宝复审通过后，用户的资金就会匹配并投资到对应的借款项目中去。而由于定投宝的期限相对于借款项目来说较短，以及两者的到期时间不一样，因此在定投宝到期的时候借款项目并未到期，因此定投宝只有将用户持有的债权转让出去之后才可以退出，才能将资金返还给用户。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">在匹配之初，基于为用户的投资风险考虑，用户投资定投宝的资金被打散成很小的粒度分散投资到不同的借款项目中去了，因此在定投宝到期需要退出的时候会有大量的债权需要转让出去。在接入银行之前，平台只需要处理自身的数据即可。而在接入银行之后，平台严重依赖银行的操作结果。接入之初，定投宝债权转让需要经历两个阶段，一个是出让，用于业务校验，另一个是转让，进行转让动作。其中出让是同步接口，转让是异步接口。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">经过压力测试和数据观察发现大部分时间都消耗在出让阶段，这种模式下无法满足平台业务峰值下的业务要求。于是，在与银行多次沟通讨论的情况下，银行取消了出让接口。同时平台自身也优化了定投宝债权转让模块，通过 MQ 来接收异步回调消息、代码重构、优化相关的 SQL 语句以及由原本的单线程模式转为线程池模式，大大的提高了业务处理效率。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">通过上面这个例子，我们知道平台主要通过以下几个方面来提高业务处理性能：</p><ul style="margin-top: 10px; line-height: 1em; text-align: left;" class="list-paddingleft-2"><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">数据库层面：优化 SQL 语句，提高执行效率；</p></li><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">代码层面：优化代码结构，使用线程池来提高并行处理能力，使用 MQ 来对系统进行解耦并提高异步处理能力；</p></li><li><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; color: rgb(74, 74, 74);">业务层面：在业务的合理性与效率方面进行权衡，对不合理的接口 say no。</p></li></ul><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MV12m8BicIhtnRFrENEG6yialQO3YSRY857RlGGSmHicztaVFaBMM2OKjw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">作者介绍</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">马宏亮，2016 年 5 月份加入人人聚财金服，曾在阿里巴巴任职 8 年，多次负责双十一购物节的技术保障。目前负责人人聚财金服的技术架构、中间件、大数据平台架构的建设。</p><section class="" style="box-sizing: border-box; padding-top: 19px;">
		<h5 style="height: 51px; line-height: 52px; font-size: 18px; margin-top: 38px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MsxMqd95riaZWCpMG6MdBRB4u06VtTjzwzB55MXMseWlB1foPic63sYMw/0?wx_fmt=png&quot;); background-position: center center; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial;"><span style="display: inline-block; height: 51px; width: 37%; float: left; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MBRljYQgUgpziaSBeYiaAwong6hLYPmf2mOnrMsia0oe87jAk0WUfeTXibg/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100%;"></span>今日荐文<span style="display: inline-block; height: 51px; width: 37%; float: right; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36M3AqmOVbRP90zkwdjgjk1cY6dibnL2sFFNx63EVsBJSl7rKNpXRNOia5w/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100%;"></span></h5>
		<p style="box-sizing: border-box; white-space: pre-line; line-height: 27px; font-size: 15px; color: rgb(200, 199, 199); padding-top: 28px; padding-bottom: 28px;">点击下方图片即可阅读</p>
		
		
		
		
		
		
				<a href="https://mp.weixin.qq.com/s?__biz=MzA5Nzc4OTA1Mw==&amp;mid=2659599357&amp;idx=1&amp;sn=50146645d8c1d1ee7135ee8a0115364d&amp;scene=21#wechat_redirect" style="color: #5BACEB;">
			<img src="http://mmbiz.qpic.cn/mmbiz_jpg/LaW7jDBKBg1kdJlSibL5XTGI6fWkhKGNyHibm0l5XSbfCicK7PUNjuXVicT9CQLyDyGsZlEwyYMS9805tD5vFxaY7Q/640?wx_fmt=jpeg" style="color: inherit; float: left; width: 770px !important; height: 505.312px !important;">
		</a>
		<section class="" style="text-align: left; width: 100%; margin-top: -3em; margin-bottom: 29px; float: left; box-sizing: border-box; background-color: rgba(13, 14, 28, 0.8); max-width: 640px;">
			<section style="text-align: center; color: inherit; box-sizing: border-box;">
				<p style="font-size: 16px; line-height: 27px; text-align: left; color: rgb(255, 255, 255); box-sizing: border-box; white-space: normal; padding-top: 8px; padding-bottom: 8px; padding-left: 13px;"><span style="display: inline-block; width: 22px; height: 18px; background: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MNRhNmRz3SCypxLiavAOygDick7vddFu3gCewtGxu6RGRvZqjRMdGrHOA/0?wx_fmt=png&quot;) center center / 100% 100% no-repeat; vertical-align: middle; margin-right: 8px;"></span>
					万字干货总结：如何理解 Heroku 提出的 12 要素应用？				</p>
			</section>
		</section>
		<hr style="width: 100%; height: 1px; border-top-style: dotted; border-top-color: rgb(165, 165, 165);">
	</section><section class="" style="box-sizing: border-box; width: 100%; text-align: left;">
		<p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">ArchSummit 全球架构师峰会邀请了上百位国内外顶尖技术专家前来分享各业务的核心架构设计，从 Web 协议底层优化到超级 App 的系列魔改，这里只谈最优秀的架构实践。距离大会 7 月 7 日开幕仅剩两周时间，点击“阅读原文”可获取 100+ 落地案例，如需报名，可直接识别下方二维码联系大会售票天使豆包，或者点击“<span class="" style="text-align: left; color: rgb(91, 172, 235);">阅读原文</span>”，了解详情。</p>
		<img src="http://mmbiz.qpic.cn/mmbiz_jpg/LaW7jDBKBg0ibm6eWNbKuNkZOC8yBV36MJZ0J7x0lVNYQjaNQff6hDXhyM7CSHzD7DOfvXpcaJhv6BFsFsib1czA/0?wx_fmt=jpeg" style="padding-right: 8px; padding-left: 8px; margin-top: 28px; margin-right: auto; margin-left: auto; width: 770px !important; height: 364.433px !important;"></section></section><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1499131498&src=3&ver=1&signature=iU4hCwtQzyv2pey6SDTnZyD0cxC72kjOFT8vUyUEOpFJb2Y5*kY8UdH7beYSm2Jrf1Et2CrM3rlOqazmVUHy-uHP72hPtx*5TmV6r74vR8Fap4b2zocetAxKAoYYCen-mk0HeaeMyrb3Ko8zuXe*48iGGmh-6S3H2kF7MIGPczc=">微信地址</a> | <a href="http://sz2017.archsummit.com/speakers?utm_source=wechat&amp;utm_medium=archtime&amp;utm_campaign=textads9">阅读原文</a>
{% endraw  %}

