---
title: Facebook的图片搜索技术揭秘
author: 大愚若智
wechat_source: >-
  http://mp.weixin.qq.com/s?timestamp=1496017029&src=3&ver=1&signature=1Hp-JGX68UwholXKdYsHgHSXWCNVPfZed8Ssuspt1TJ4Pj3enMAsrnkO-Ge-xZZRzr88rKvyLkwIRg-vQEWVyc50StWWqvD44RNUds5tL3TipFgMTRTlIZBQAwYrnGBuBymnOBz45U4GT6je*ymfsB7iiCEJgUKu9NjA07cgcXk=
date: '2017-05-26 00:00:00 +0000'

---

{% raw  %}
<section style="color: rgb(63, 63, 63); font-size: 14px; font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif; text-align: center; box-sizing: border-box;"><section class="" style="box-sizing: border-box; text-align: left;">
		<img src="/archtime/images/9808ff865ec660e5fcf65216a793c47bd1705cd3.jpeg" style="border-radius: 4px; margin-bottom: 25px; width: 770px !important; height: 404.507px !important; visibility: visible !important;">
	</section><section class="" style="box-sizing: border-box; color: rgb(145, 145, 145); text-align: left; line-height: 1em; margin-top: 13px; padding-left: 14px;">
		作者｜Facebook 团队	</section><section class="" style="box-sizing: border-box; color: rgb(145, 145, 145); text-align: left; line-height: 1em; margin-top: 13px; padding-left: 14px;">
		编辑｜大愚若智	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">今天的人们使用智能手机拍摄的照片数量激增，这对传统的照片分类方式造成了不小的挑战。我们每个人整理自己手机中存储的海量照片尚且如此困难，对我们来说，要为所有人的照片定义一种更有序的分类方式无疑更是困难重重。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">每天，人们会将数十亿张照片分享到 Facebook，想想你自己向下滚屏查找几天前发布的照片有多麻烦，如果要找几个月甚至几年前的照片呢？为了帮大家更容易找到自己的照片，Facebook 照片搜索团队使用机器学习技术深入了解照片内容，改善照片的搜索和获取过程。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/620bf7e307fa765a27873e7545b3c4f1cbc0e468.jpeg" style="width: 754px !important; height: 424.125px !important;"></p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">我们的照片搜索功能基于一种名为 Unicorn 的内存和闪存索引系统构建，这种系统在设计上可以顺利搜索百亿至万亿级别的用户和其他实体。这套诞生于几年前的系统还驱动着能够理解社交图谱的 Graph Search 功能，以每天数十亿笔查询的强大能力为 Facebook 的多个组件提供着支撑。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">Graph Search 的诞生是为了能根据不同社交图谱之间的关系获取相关对象，例如“所有住在旧金山的好友”。该功能的效果很不错，但如果要将查询约束在相关子集范围内，并按照相关性对结果进行排序或计分，进而提供最相关的结果，这种操作中该功能的效果很一般。为了继续完善这种技术，照片搜索团队使用深度神经网络，通过照片中的可视内容和可查找文字改善了图片搜索结果的准确性。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">关于照片，搜索功能需要了解些什么</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">虽然 Imagenet Challenge 等竞赛中，图片识别技术的演示已经获得了非常低的错误率，但以 Facebook 的规模来说，理解照片内容是个很难达成的目标。好在相关应用领域的研究已经为我们提供了最先进的深度学习技术，足以在大范围内处理数十亿张照片，从中提取出可搜索的语义学含义。我们会使用一种名为图片理解引擎的分布式实时系统，分析处理发布到 Facebook 且公开展示的每张照片。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">图片理解引擎是一种深度神经网络，其中包含数百万种可学习参数。该引擎以先进的深度残差网络 (Deep Residual Network) 为基础，使用上千万张带标注照片进行了训练，可自动预测一系列概念，包括场景、物体、动物、景点、着装等。我们可以提前训练模型并将有用的信息存起来，进而以低延迟响应回应用户查询。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/d0e4b390b83dad4f3020b59d692131cdf3f85ace.jpeg" style="width: 754px !important; height: 252.016px !important;"></p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">这个图片理解引擎为语义特征生成的高维浮点向量需要进行索引和搜索，但以 Facebook 的规模来说，这是一种非常繁重的计算密集型任务。通过使用迭代量化和局部敏感哈希技术，该功能可进一步压缩出数量更少，但依然足以代表大部分语义的“位”。这些紧凑的“位”信息将直接嵌入照片中，借此可直接对照片进行评级、检索、去重等操作。搜索查询过程中，可通过嵌入的信息调整结果的展示顺序。这种技术与文档搜索和检索过程中使用的技术极为类似。Unicorn 最初诞生时包含适用于深度神经网络层的多种不同算法，这些算法都是针对大规模图片集的搜索开发而来的。Unicorn 可以用对象标签和嵌入语义创建搜索查询所需的索引。目前我们正在开发该技术的新版本，希望能将这种紧凑嵌入的信息用于低延迟检索。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">在建模过程中使用标签和嵌入物</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">考虑到 Facebook 的规模以及用户对快速响应查询的预期，我们无法对整个照片库使用过于复杂的评级模型。因此为标签和嵌入物使用了一种相关性模型，该模型可估算相关性并以极低的延迟提供查询结果。</p><section class="" style="box-sizing: border-box; font-size: 16px;">
		<span style="display: inline-block; height: 52px; line-height: 61px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 45px; padding-left: 30px; margin-top: 38px; margin-bottom: 10px;">概念相关性</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">这个相关性是通过丰富的查询，以及使用相似性函数对比概念集得出的照片概念信号进行评估的。例如，与照片查询中所用的“中央公园”概念直接相关的查询概念，可将与这一话题有关的照片放在首位，并从结果中隐藏所有“离题”的照片。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/25433b287d41ac3ebdae01452da64eee7d82ab01.jpeg" style="width: 754px !important; height: 290.946px !important;"></p><section class="" style="box-sizing: border-box; font-size: 16px;">
		<span style="display: inline-block; height: 52px; line-height: 61px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 45px; padding-left: 30px; margin-top: 38px; margin-bottom: 10px;">嵌入物相关性</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">通常来说，直接衡量查询与结果之间的概念关联性，这种做法不足以准确地预测相关性。我们创建的相关性模型会使用多模态学习 (Multimodal learning) 技术了解查询和图片之间的联合嵌入关系。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/9388adb2568d7607ec0dde2eae43f115f642f46e.jpeg" style="width: 754px !important; height: 258.163px !important;"></p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">该模型的输入端为查询的嵌入向量和照片结果，而训练目的在于将分类损失降至最低。每个向量将放在一起训练和处理，这一过程会使用多层次的深度神经网络生成一个二进制信号，结果为正意味着匹配，结果为负意味着不匹配。查询和照片的输入向量分别由各自的网络生成，每个网络可能包含不同数量的层。这种网络可以通过嵌入层的参数进行训练并调优。</p><section class="" style="box-sizing: border-box; font-size: 16px;">
		<span style="display: inline-block; height: 52px; line-height: 61px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 45px; padding-left: 30px; margin-top: 38px; margin-bottom: 10px;">嵌入评级损失</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">上文介绍的这种确定查询和照片之间相关性的方法可以用公式表示为一种分类问题。然而评级的主要目标在于确定照片搜索结果中一系列照片的最佳排序。因此我们在分类公式的基础上使用评级损失 (Ranking loss) 进行训练，同时为同一个查询生成相关和不相关结果对。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">如下图所示，模型右侧部分是左侧部分的深层复制 (Deep copy)，也就是说，他们共享了相同的网络结构和参数。在训练过程中，我们会将查询与两种结果分别放入模型的左侧和右侧组件中。对于每个查询，相符图片的评级会高于不相符图片。这种训练方式大幅改善了评级质量。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/99e2baec265632384261a15db23d23362a0f8320.jpeg" style="width: 754px !important; height: 343.193px !important;"></p><section class="" style="box-sizing: border-box; font-size: 16px;">
		<span style="display: inline-block; height: 52px; line-height: 61px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 45px; padding-left: 30px; margin-top: 38px; margin-bottom: 10px;">将对查询的理解应用给照片搜索</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">Unicorn 的照片语料以及图片理解引擎所应用的嵌入物均是可搜索的。如果应用于嵌入物的查询语义生成了更高概率的相关性，除了用于获取照片的索引，查询与检索之间的其他位图会被打断。理解查询语义过程中所使用的重要信号包括：</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">查询意图 (Query intents) 建议了需要检索哪类场景的照片。例如一个意在检索动物照片的查询需要展示以动物为主题的照片。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">语法分析 (Syntactic analysis) 帮助我们理解查询语句的语法构造、词类词性、句法关系，以及语义。搜索查询通常无法识别书面语的语法，而这方面现有的解析程序效果并不好。因此我们使用了最先进的技术，对语言标记器 (Speech tagger) 中神经网络部分进行有关搜索查询的训练。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">实体链接 (Entity linking) 帮助我们找出有关特定概念的照片，通常会将结果以页面的形式呈现，例如不同的地点或电视节目。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">重写查询知识以提取由查询的语义诠释提供的概念。概念不仅可以扩展查询的含义，而且可以弥补查询和结果之间不同词汇造成的差异。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">查询嵌入物，这是一种用于代表查询本身的连续向量空间。该技术可在对词汇进行 word2vec 向量呈现的基础上通过迁移学习 (Transfer learning) 进行学习，借此将类似的查询映射至就近点。</p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">领域和查询重写</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">当某人输入查询按下搜索键，会生成一个请求并发送到我们的服务器。该请求首先到达 Web 层，在这里会收集有关该查询的不同上下文信息。随后查询以及相关上下文会被发送至一个顶级聚合器层，在这里查询会被重写为一个 s- 表达式，随后描述该如何从索引服务器获取一系列文档。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">根据查询意图，会由一个触发器机制使用神经网络模型决定相关联的领域 (Vertical)，例如新闻、照片，或视频，这是为了尽可能避免针对相关性较低的领域执行不必要的处理任务。举例来说，如果某人查询“有趣的猫咪”，那么这个意图很明显更希望看到照片领域的结果，此时我们会从搜索结果中排除掉新闻这个领域。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">如果查询“万圣节”，此时将同时触发有关公开照片及好友的万圣节变装照片的意图，此时将同时搜索公开和社交圈照片两个领域，进而可同时返回搜索者的好友所分享的照片，以及评级为相关的所有公开照片。此时需要进行两个独立的请求，因为社交照片是高度个性化的，需要进行单独的检索和计分。为了保护照片隐私，我们会对搜索结果应用 Facebook 整个系统都在使用的隐私控制机制。下图演示了一个上端为“社交”，下端为“公开”的模块。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/93aca876ff52c444dbf550611db2092f5fb4048d.jpeg" style="width: 754px !important; height: 459.981px !important;"></p><section class="" style="box-sizing: border-box; font-size: 16px;">
		<span style="display: inline-block; height: 52px; line-height: 61px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 45px; padding-left: 30px; margin-top: 38px; margin-bottom: 10px;">第一阶段评级</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">当索引服务器根据 s- 表达式获取到所需文档后，会交给经过机器学习训练的第一阶段评级器处理。随后分数最高，Top M 文档会被发送至 Rack aggregator 层，借此对所获得的全部文档进行一定程度的合并，随后将 Top N 结果返回至顶级聚合器层。第一阶段评级的主要目的是确保返回至 Rack aggregator 的文档与查询依然保持一定的相关性。例如，在查询“狗”时，包含狗的照片无疑会比不包含狗的照片获得更高评级。为了能以毫秒级的速度提供相关照片，我们还对整个复杂的检索和评级阶段的延迟进行了优化。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/5901dc544954177100a38b389d2d356db48ff2d7.jpeg" style="width: 754px !important; height: 410.807px !important;"></p><section class="" style="box-sizing: border-box; font-size: 16px;">
		<span style="display: inline-block; height: 52px; line-height: 61px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 45px; padding-left: 30px; margin-top: 38px; margin-bottom: 10px;">第二阶段的二次评级</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">评级后的文档返回顶级聚合器后，会进行另一轮的信号计算、去重和评级。信号描述了整个结果分布情况的计算结果，借此可发现不符的结果。随后会使用图片指纹对视觉方面类似的文档进行去重。随后会通过深度神经网络进行计分和评级，借此生成最终的照片排序结果。评级之后的照片集（也叫做“模块”）会被发送到结果页面的 UI 中显示出来。</p><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);"><img src="/archtime/images/5dfff01bbb1c24dce31cec0fc5b2cd2557c8bd83.jpeg" style="width: 754px !important; height: 245.87px !important;"></p><section class="" style="box-sizing: border-box; font-size: 20px;">
		<span style="margin-top: 38px; margin-bottom: 10px; height: 65px; line-height: 96px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnre4egWzmiaP8jxVaGntiaMCbTv22dFtswILrqhC4TVwdqSMvrcMLHeRw/0?wx_fmt=png&quot;); background-position: 50% 50%; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; border-bottom: 2px solid rgb(27, 95, 160); background-size: 55px; display: inline-block;">针对照片搜索优化相关性评级</span>
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">对查询与照片，以及照片与查询之间的相关性进行评估，这是照片搜索团队所面临最核心的问题，并且已经远远超出了基于文本的查询重写和匹配技术范畴。为此我们需要进一步全面理解查询、照片作者、照片附带贴文，以及照片中的可视内容。先进的相关性模型通常需要包含顶尖的评级、自然语言处理，以及计算机视觉等技术，借此才能提供相关性更高的搜索结果，为我们塑造一种新颖的图片分类系统，在大规模范围内更快速提供相关性更高的搜索结果。</p><section class="" style="box-sizing: border-box; padding-top: 19px;">
		<h5 style="height: 51px; line-height: 52px; font-size: 18px; margin-top: 38px; color: rgb(60, 112, 198); background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZn26IOS4TK5PtKCxp9EhsjzKiaj5j3rS5l8Dib2tIWzVgS211PgBFiaLOyQ/0?wx_fmt=png&quot;); background-position: center center; background-size: initial; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial;"><span style="display: inline-block; height: 51px; width: 37%; float: left; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnQL9iaYCz89BgksNbib1SrSH0QI6M5CnPzz1ldw6LnxJey9UV44gSoabA/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100%;"></span>今日荐文<span style="display: inline-block; height: 51px; width: 37%; float: right; background-image: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnnicN8K50t39yaPOLsyVpSfcLYtic1UTuIF8USeT7M8B79VHN5rD3O6gQ/0?wx_fmt=png&quot;); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 100%;"></span></h5>
		<p style="box-sizing: border-box; white-space: pre-line; line-height: 27px; font-size: 15px; color: rgb(200, 199, 199); padding-top: 28px; padding-bottom: 28px;">点击下方图片即可阅读</p>
		
		
		
		
		
		
				<a href="https://mp.weixin.qq.com/s?__biz=MzA5Nzc4OTA1Mw==&amp;mid=2659599271&amp;idx=1&amp;sn=49529828b8de4ca4a24f408d3b422970&amp;chksm=8be996b5bc9e1fa30f5d0496c75e6cef5b8c81c8fd1075e3a71b8866b309f0105d830639b591#rd" style="color: #5BACEB;">
			<img src="/archtime/images/6f6a5ae4a6534e5f63fb5a56de7c345f4ccdd1a3.jpeg" style="color: inherit; float: left; width: 770px !important; height: 431.922px !important;">
		</a>
		<section class="" style="text-align: left; width: 100%; margin-top: -3em; margin-bottom: 29px; float: left; box-sizing: border-box; background-color: rgba(13, 14, 28, 0.8); max-width: 640px;">
			<section style="text-align: center; color: inherit; box-sizing: border-box;">
				<p style="font-size: 16px; line-height: 27px; text-align: left; color: rgb(255, 255, 255); box-sizing: border-box; white-space: normal; padding-top: 8px; padding-bottom: 8px; padding-left: 13px;"><span style="display: inline-block; width: 22px; height: 18px; background: url(&quot;http://mmbiz.qpic.cn/mmbiz_png/LaW7jDBKBg1zQ7IebbwRwz5Bj5LtlNZnPnrs4aOGdE8CDEBGnKia2USjFuogOSXCSBl6dx4EYhbcyRwXAfhbfsg/0?wx_fmt=png&quot;) center center / 100% 100% no-repeat; vertical-align: middle; margin-right: 8px;"></span>
					当我们在谈组织效率的时候，我们在谈什么？				</p>
			</section>
		</section>
		<hr style="width: 100%; height: 1px; border-top-style: dotted; border-top-color: rgb(165, 165, 165);">
	</section><p style="box-sizing: border-box; font-size: 16px; text-align: justify; white-space: pre-line; line-height: 27px; padding-top: 23px; padding-right: 8px; padding-left: 8px; color: rgb(74, 74, 74);">今年，架构师关注的技术点有何不同？从云计算、大数据、微服务、容器，到现在的人工智能，架构师应该怎么做？这里推荐一场会议，为你总结了 100+ 国内外技术专家现阶段的架构实践，点击<span class="" style="text-align: left; color: rgb(91, 172, 235);">“阅读原文”</span>，看看对你有何启发。</p><section class="" style="box-sizing: border-box; width: 100%; text-align: left;">
		
		<img src="/archtime/images/a0fc0f9f33f9ad0ffbaa475a14d98e9b72bfdf42.jpeg" style="padding-right: 8px; padding-left: 8px; margin-top: 28px; margin-right: auto; margin-left: auto; width: 770px !important; height: 418.889px !important;"></section></section><hr/><a href="http://mp.weixin.qq.com/s?timestamp=1496017029&src=3&ver=1&signature=1Hp-JGX68UwholXKdYsHgHSXWCNVPfZed8Ssuspt1TJ4Pj3enMAsrnkO-Ge-xZZRzr88rKvyLkwIRg-vQEWVyc50StWWqvD44RNUds5tL3TipFgMTRTlIZBQAwYrnGBuBymnOBz45U4GT6je*ymfsB7iiCEJgUKu9NjA07cgcXk=">微信地址</a>
{% endraw  %}

